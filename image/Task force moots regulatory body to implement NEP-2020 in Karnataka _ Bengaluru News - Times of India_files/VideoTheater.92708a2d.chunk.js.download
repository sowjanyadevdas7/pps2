(window.webpackJsonp=window.webpackJsonp||[]).push([[129,130],{1081:function(e,t,i){"use strict";i.r(t);var o,r=i(12),n=i.n(r),a=(i(10),i(447)),s=i(452),d=i(466),c=i.n(d),l=i(930),u=i.n(l);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}function h(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=b(e);if(t){var r=b(this).constructor;i=Reflect.construct(o,arguments,r)}else i=o.apply(this,arguments);return y(this,i)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,i,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),d=0;d<a;d++)s[d]=arguments[d+3];t.children=s}if(t&&n)for(var c in n)void 0===t[c]&&(t[c]=n[c]);else t||(t=n||{});return{$$typeof:o,type:e,key:void 0===i?null:""+i,ref:null,props:t,_owner:null}}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(d,e);var t,i,o,r=m(d);function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=r.call(this)).sliderRef=n.a.createRef(),e}return t=d,(i=[{key:"render",value:function(){var e=this.props,t=e.isWapView,i=e.items,o=e.handleSliderCardItem,r=e.activeSlide,d=e.isTablet;if(!t&&i){var l={slidesToShow:d&&d()?4:Math.round(window.outerWidth/178),slidesToScroll:d&&d()?4:Math.round(window.outerWidth/178),pauseOnHover:!1,pauseOnFocus:!1,dots:!1,arrows:!0,swipeToSlide:!0,autoplay:!1,draggable:!1,infinite:!1};return w("div",{className:"".concat(u.a.trendingvdo)},void 0,n.a.createElement(c.a,p({},l,{ref:this.sliderRef}),i&&i.map((function(e){return w("div",{className:"".concat(u.a.parentContainer," ").concat(r===e.id?u.a.active:""," ").concat(e.primeid?u.a.prime:"")},void 0,w(a.a,{to:e.wu||e.su,className:"",title:e.hl,spa:!0,onClick:function(t){return o(t,e)}},void 0,w("div",{className:u.a.vdothumb},void 0,w("div",{className:u.a.content},void 0,(n="https://static.toiimg.com/photo/34824568.cms",n=(t=e).imageid&&-1!==t.imageid.indexOf("https://static.toiimg.com")?t.imageid:t.imageid?(i=t.imageid.split("&")).length>1?"https://static.toiimg.com/thumb/msid-".concat(i[0],",").concat(i[1],",width-280,resizemode-4/").concat(i[0],".jpg"):"https://static.toiimg.com/photo/msid-".concat(i[0],",width-280,resizemode-4/").concat(i[0],".jpg"):"https://static.toiimg.com/photo/msid-".concat(t.id,",width-280,resizemode-4/").concat(t.id,".jpg"),w(s.a,{src:n,alt:t.hl,placeHolderSrc:"https://static.toiimg.com/photo/34824568.cms",offsetVertical:100})),w("span",{className:u.a.playicon},void 0,e.du))),w("div",{className:u.a.vdoinfo},void 0,w("span",{className:u.a.discription},void 0,e.hl))));var t,i,n}))))}return""}}])&&h(t.prototype,i),o&&h(t,o),d}(n.a.Component);g.defaultProps={isWapView:!1,items:[],handleSliderCardItem:void 0,isTablet:void 0},t.default=g},1143:function(e,t,i){"use strict";i.r(t);var o,r=i(12),n=i.n(r),a=i(476),s=i(64),d=i(10),c=i.n(d),l=i(475),u=i(450),f=i(32),p=i(130),h=i(509),v=i(512),m=(i(482),i(930)),y=i.n(m),b=i(1081);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,i,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),d=0;d<a;d++)s[d]=arguments[d+3];t.children=s}if(t&&n)for(var c in n)void 0===t[c]&&(t[c]=n[c]);else t||(t=n||{});return{$$typeof:o,type:e,key:void 0===i?null:""+i,ref:null,props:t,_owner:null}}function T(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=P(e);if(t){var r=P(this).constructor;i=Reflect.construct(o,arguments,r)}else i=o.apply(this,arguments);return O(this,i)}}function O(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,e);var t,i,o,r=V(n);function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=r.call(this,e)).handleSliderCardItem=function(e,i){e.preventDefault(),t.setState({playingVideoItem:i,activeSlide:i.id,slikeNextVideoAutoPlayed:!1})},t.handleClose=function(){t.setState({isVideoTheatreMinified:!1,playingVideoItem:void 0,activeSlide:void 0}),t.props.closeVideoTheatre()},t.videoEventListener=function(e,i){t.a="";var o=i?i[1]:"",r="",n="",a=t.state.bottomVideosSliderData.map((function(e){return e.id}));switch(o){case"VIDEOREADY":r=i&&i.length>2&&i[2],t.setState({slikeNextVideoAutoPlayed:!0}),t.props.addNextVideoMsid(a[a.indexOf(r)+1]);break;case"VIDEOCOMPLETE":n=i&&i.length>0&&i[0].id,r=a[a.indexOf(n)+1]}},t.currArticleshowUrl={wu:"",hl:""},t.state={bottomVideosSliderData:[],playingVideoItem:void 0,isVideoTheatreMinified:!1,activeSlide:void 0,slikeNextVideoAutoPlayed:!0},t}return t=n,(i=[{key:"changeUrl",value:function(){var e=this.state.playingVideoItem;window.location.href.includes("/videoshow/")||(this.currArticleshow={wu:window.location.href,hl:document.title});var t=e?e.wu.replace("https://timesofindia.indiatimes.com",""):this.currArticleshow.wu,i=e?e.hl:this.currArticleshow.hl;!window.history||window.location.href.indexOf(t)>=0||(window.history.pushState({},i,t),"undefined"!=typeof window&&-1!==t.indexOf("/videoshow/")&&(window.TimesGA&&window.TimesGA.setGAParams&&window.TimesGA.setGAParams({}),Object(u.a)("gaAndGrx","send",{hitType:"pageview",page:t,location:t})))}},{key:"componentDidUpdate",value:function(e,t){var i=this,o=this.props,r=o.videoTheatreSliderPath,n=o.isVideoTheatreOpen,d=o.videoTheatreCurrMsid,c=this.state,l=c.isVideoTheatreMinified,u=c.activeSlide;if(e.isVideoTheatreOpen===n||n||this.setState({isVideoTheatreMinified:!1,playingVideoItem:void 0,activeSlide:void 0}),e.videoTheatreCurrMsid!==d&&this.setState({isVideoTheatreMinified:!1}),t.isVideoTheatreMinified!==l&&l&&this.props.showMiniTvPlayer(!1),t.isVideoTheatreMinified===l||l||(document.getElementsByTagName("body")[0].style.overflow=this.state.isVideoTheatreMinified?"hidden":""),n!==e.isVideoTheatreOpen&&n&&(this.props.deleteDockCandidate(),this.props.deleteUnDockCandidate()),n===e.isVideoTheatreOpen&&l===t.isVideoTheatreMinified&&u===t.activeSlide||this.changeUrl(),(e.videoTheatreSliderPath!==r||e.videoTheatreCurrMsid!==d)&&this.props.isVideoTheatreOpen){var f=r;if(r&&r.startsWith("https://")){var p=r.replace("https://timesofindia.indiatimes.com/","").replace(/\/videoshow\/\d+.cms/,"").split("/");p.pop(),f=Object(a.a)({path:"/".concat(p.join("/")),perpage:10})}else f=Object(a.a)({path:r,perpage:10});var h=this;s.a.get(f).then((function(e){if(200===e.status){var t=[];e.data&&e.data.data&&e.data.data.items?t=e.data.data.items:e.data.sections&&e.data.sections[0]&&e.data.sections[0].data&&(t=e.data.sections[0].data.items);var o=t||[];o&&o.length>10&&(o=o.slice(0,10));var r=i.props.videoTheatreCurrMsid,n=o.filter((function(e){return e.id===r}));0===n.length&&(n=[i.props.videoTheatreCurrItem],o.unshift(i.props.videoTheatreCurrItem)),h.setState({bottomVideosSliderData:o,playingVideoItem:n?n[0]:void 0,activeSlide:r})}}))}}},{key:"render",value:function(){var e=this,t=this.props,i=t.isUserPrime,o=t.isVideoTheatreOpen,r=this.state,n=r.bottomVideosSliderData,a=r.playingVideoItem;if(o&&0!==n.length&&a){var s=a.imageid.split("&"),d=this,c=n.filter((function(t){return t.id===e.state.activeSlide})),u=c.length>0?c[0].hl:"",p=this.props.videoTheatreCurrItem&&this.props.videoTheatreCurrItem.primeid?parseInt(this.props.videoTheatreCurrItem.primeid,10):0,h=p&&p>0;return g("div",{className:"".concat(y.a.video_theatreoverlay," ").concat(this.state.isVideoTheatreMinified?y.a.theatreDocked:"")},void 0,!Object(f.D)()&&g("button",{className:y.a.dockicon,type:"button",onClick:function(){e.setState({isVideoTheatreMinified:!e.state.isVideoTheatreMinified})}}),g("button",{type:"button",className:y.a.close,onClick:this.handleClose}),g(l.a,{autoplay:!0,isVideoSkipAds:this.props.isVideoSkipAds,slikeNextVideoAutoPlayed:this.state.slikeNextVideoAutoPlayed,videoClassName:y.a.video_theatrevideo,msid:a.id,imgsize:2===s.length?s[1]:"",playerContainerId:"".concat(a.id),isPrime:i,allowDim:!1,isUserPrime:i,isContentPrime:h,isVideoTheatreMinified:this.state.isVideoTheatreMinified,store:this.context.store,outsideEventListener:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(i[1]&&"VIDEOREADY"===i[1][1]){var r=n.filter((function(e){return e.id===i[1][2]}));d.setState({playingVideoItem:0!==r.length?r[0]:e.state.playingVideoItem,activeSlide:i[1][2]})}e.videoEventListener.apply(e,i)}}),g("p",{className:y.a.vdotxt},void 0," ",u),!this.state.isVideoTheatreMinified&&g(b.default,{items:n,handleSliderCardItem:this.handleSliderCardItem,activeSlide:this.state.activeSlide,isTablet:f.D}))}return""}}])&&T(t.prototype,i),o&&T(t,o),n}(n.a.Component);C.defaultProps={isUserPrime:!1,videoTheatreSliderPath:"",isVideoTheatreOpen:!1,videoTheatreCurrMsid:"",videoTheatreCurrItem:{},isVideoSkipAds:!1},C.contextTypes={store:c.a.object.isRequired},t.default=Object(p.b)((function(e){return{isUserPrime:e.isPrime,isVideoTheatreOpen:e.articleshow.isVideoTheatreOpen,videoTheatreSliderPath:e.articleshow.videoTheatreSliderPath,videoTheatreCurrMsid:e.articleshow.videoTheatreCurrMsid,videoTheatreCurrItem:e.articleshow.videoTheatreCurrItem,isMiniTvPlayerShown:e.miniTv.showMiniTvPlayer}}),(function(e){return{closeVideoTheatre:function(){e(Object(h.e)())},openVideoTheatre:function(){e(Object(h.o)())},addNextVideoMsid:function(t){e(Object(h.b)(t))},deleteDockCandidate:function(){e(Object(h.f)())},deleteUnDockCandidate:function(){e(Object(h.g)())},showMiniTvPlayer:function(t){e(Object(v.b)(t))}}}))(C)},930:function(e,t,i){e.exports={video_theatreoverlay:"_1R3gf",video_theatrevideo:"_3GD0l",theatreDocked:"_28GFI",trendingvdo:"_2-Keg",dockicon:"_14uoU",vdotxt:"n9xI4",close:"Msl2N",parentContainer:"_28Uz1",active:"_2g41q",vdothumb:"_2hu4J",content:"v4tth",playicon:"_17JPr",vdoinfo:"y-8Pz",discription:"_1Gj2p"}}}]);
//# sourceMappingURL=VideoTheater.92708a2d.chunk.js.map