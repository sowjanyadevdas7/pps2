(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{1087:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},1479:function(e,t,o){e.exports={clearfix:"_3ZIbt",mobilecomment:"iDDgB",comment_header:"dIGBB",close:"_1JV6t",comment_input:"_1Cjq_",lightText:"_33mCq",lightText1:"_23814",sortby:"WAFGd",sortText:"_30Wqu",socialpost:"_2XaoW",twitter:"_2ib7u",icontwitter:"_13N87",fb:"_175BK",iconfb:"_1lKR4",commentverificationmsg:"_3nIDd",noComment:"_1luEZ",comment_sidebar:"_1Gr0p",comment_scroll:"_3KyyJ",loadmore:"_3zQcU",loader:"_3nE7k",disclaimer:"_3wqQV",comment_topwrite:"_1BvtK",user_thumbnail:"_1kQk9",numbertxt:"_3wBiR",comment_title:"_1G2bT",noCommenTicker:"_20KpH",commentTicker:"_3OtyW",commentsContainer:"bLzrC",commenttopareafixed:"_355e6",closefixheadersection:"_3HIHr",addcommentheader:"_3Fq7Q",comments_box:"hA0Zz",error:"hzXzi",show_all_responses:"lkvJj",comments_list:"_3tu9Q",gdpr:"_1jvm3",header:"_2T8yX",user_details:"_2ZH3M",comment_text:"_2uauV",aucmt:"_3P736",cmtname:"_2i989",highlighted:"_1NWzy",highlight:"_2rTDQ",top_input:"_2Ijk4",signinform:"_3WCiP",point_tooltip:"lvUVk",popup_above:"_1rKiJ","heading-block":"_9N7Yf",level:"_3GezN",more:"_4Az_0",content:"_36ubv",section:"_2sbV_",name:"Hx3jR",badgepoint:"_1L0SY","info-txt":"HiDZ2",reasons:"WnJZ9","success-message":"_1lPc3",buttons:"usQjt",button:"_1XBfJ","more-info":"_3WwZ9",cont_left:"_2G-3v",cont_right:"_3uczL",comment_actions:"_3wAPo",point_container:"_1I42N",tooltip_wrap:"_3zb8D",gold:"_1otZt",platinum:"_3XFe-",silver:"_2HEW2",bronze:"_2sWiq",badges:"_3teje",follow:"_1Kg8k",iconreply:"_3zDWo",truncated:"_2FVHz",readmorecomment:"_3VM28",flagComment:"_3c5QW",tooltip_up:"_1i9i8",comment_reply:"IhmY9",comment_response:"RoZk5",upContainer:"_23uA0",downContainer:"_20ocg",userfollowing:"_3Ww3J",iconfollow:"_1Zgco",voteUp:"_29KSh",voteDown:"_3Aj9L",indentRight:"_1WCgZ",root:"_3N_op",open:"_2p8v2",commentsWrapper:"KeLwh",sticky:"_1lA1o",CommentLB_Bottom:"_2jPdx",cmtbtnwrapper:"_2sCYw",LBv2:"_2u8CU",euUser:"OgAUd",socialsignin:"_2nfPg",sociallogin:"SY9CB",hide_noreg:"_1qVyO",mathbox:"_1Hbmk",textbox:"_2crx3",signin:"TEPvQ",divider:"_3Ls9m",location:"_31qjl",submit1:"Gl9ko",google:"_3kB7v",email:"_3jS89",commentposterror:"_2w1vv",primeuser:"U9_IT",bottom_inner_v2:"_1z111",col2:"_3X0T6",noComments_v2:"McJ8D",startConversation:"_9AQHk"}},1480:function(e,t,o){var n=o(1481);e.exports=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){n(e,t,o[t])}))}return e}},1481:function(e,t){e.exports=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},1482:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},1483:function(e,t,o){(function(t){var o=/&(?:amp|lt|gt|quot|#39|#96);/g,n=RegExp(o.source),r="object"==typeof t&&t&&t.Object===Object&&t,i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();var a,c=(a={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},function(e){return null==a?void 0:a[e]}),l=Object.prototype.toString,p=s.Symbol,u=p?p.prototype:void 0,d=u?u.toString:void 0;function m(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}e.exports=function(e){var t;return(e=null==(t=e)?"":m(t))&&n.test(e)?e.replace(o,c):e}}).call(this,o(49))},1484:function(e,t,o){e.exports={cmtbtnwrapper:"_1XXx1",innercomment_box:"_1J0sM",aucmt:"_3c-lJ",name:"_3_2lB",prime:"_2X2Hu",flagComment:"_2rZfV"}},1485:function(e,t,o){e.exports={clearfix:"_1QnkB",diplaynoneM:"mT5eV",sortby:"FSU8c",loadmore:"_2H3Rm",comment_input:"_290TN",commentsContainer:"gbJ5d",comments_list:"_28UZY",header:"_2wiKg",point_container:"_1w24L",comment_actions:"_1BtqS",signinform:"diUKv",divider:"sloHj",socialsignin:"_11oUT",comment_header:"PImgn",close:"_1Xtwn",indentRight:"wdpny",commentverificationmsg:"_2ZpIz",comment_sidebar:"_22Vlu",comment_scroll:"_2ckwP",disclaimer:"_2Xuq1",loader:"_3CPki",comment_topwrite:"_32xMg",numbertxt:"_2B-Jg",comment_title:"_1du-z",noCommenTicker:"_38EjJ",commentTicker:"wh_1_",comments_box:"_1-Int",error:"_3bojS",show_all_responses:"_2FBDU",commentposterror:"_3ltLE",user_thumbnail:"cCW2h",point_tooltip:"_2TiGe",popup_above:"_210hi","heading-block":"dwD6e",level:"_1xq9v",more:"_1Db2t",content:"_44u6k",section:"_3tPQ7",name:"_3MNiS",badgepoint:"_2bCqk","info-txt":"dqlkb",reasons:"_3WfxZ","success-message":"_32wWg",buttons:"_5K1Ip",button:"_2H1eu","more-info":"RZr9O",cont_left:"C1dJP",cont_right:"_1ZIoF",comment_text:"_30Dfr",tooltip_wrap:"_2N8xp",gold:"_1FT81",platinum:"_2ZfTj",silver:"_1j6A7",bronze:"pjAx8",badges:"_2LUgF",user_details:"_1RGd4",truncated:"_1uwKu",readmorecomment:"_1LuwP",flagComment:"_1e7Hj",flagicon:"_3FVWS",tooltip_up:"_2kNWp",upContainer:"N78hC",downContainer:"Knf_m",voteUp:"LpuWq",voteDown:"_2Eimn",root:"jv-lU",open:"ZzSTi",commentsWrapper:"_1TDxV",sticky:"_23NHl",cmtbtnwrapper:"_39Ute",signin:"_1NQ-i",sociallogin:"qTJf7",socialpost:"xPdPo",hide_noreg:"_3XQfz",mathbox:"_2dpDi",textbox:"_2Bt3M",location:"_2YJGd",submit1:"_10znB",fb:"ma9Ai",google:"_2i-3E",email:"_2CZhg"}},476:function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="https://toifeeds.indiatimes.com/treact/feeds/toi/web/list/video";t.a=function(e){var t=e.path,o=void 0===t?"":t,i=e.perpage,s=void 0===i?"":i,a=e.curpg,c=void 0===a?1:a,l=e.reqtype,p=void 0===l?"":l,u=s?"&perpage=".concat(s):"",d=c?"&curpg=".concat(c):"",m=p?"&reqtype=".concat(p):"";return"object"===("undefined"==typeof window?"undefined":n(window))?"".concat(r,"?path=").concat(o).concat(u).concat(d).concat(m):"".concat(r,"?path=").concat(o).concat(u).concat(d).concat(m).replace("https","http")}},478:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var n=o(12),r=o.n(n),i=o(462);o(10);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=u(e);if(t){var r=u(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return p(this,o)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,o,n,s=l(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=s.call(this,e)).onScroll=function(){var e=t.props.callbackProvided||function(){},o=t.props.offsetFromTop?t.props.offsetFromTop:0,n=t.props.stickyFromTopStaticHeight||Object(i.c)(t.stickyDiv).y-parseInt(o,10),r=document.getElementById("toi-footer"),s=document.getElementById(t.props.idSelectorInViewRemoveSticky),a=s?Object(i.c)(s).y:0,c=(window.innerHeight-t.stickyDivChild.offsetHeight)/2,l=!1;l=a>0&&window.pageYOffset+window.innerHeight>a+c-80;var p=!!r&&window.pageYOffset+.95*window.innerHeight-Object(i.c)(r).y>0,u=window.pageYOffset>=n&&(!p||t.props.aboveFooter);u&&!t.state.isSticky?(e({sticky:!0}),t.setState({isSticky:!0})):!u&&t.state.isSticky?(e({sticky:!1}),t.setState({isSticky:!1})):t.state.isSticky&&l!==t.state.removeStickyClassEnable&&t.setState({removeStickyClassEnable:l})},t.state={isSticky:!1,removeStickyClassEnable:!1},t.state.appview=!1,t}return t=p,(o=[{key:"componentDidMount",value:function(){window.location.href.indexOf("frmapp")>0&&this.setState({appview:!0}),this.onScroll(),window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this,t="";this.state.appview&&(t=this.props.appclass);var o="",n=this.props.stickyClass?this.props.stickyClass:"sticky",i=this.state.isSticky;if(this.props.removeStickyOnArticleChange){var s=this.props,a=s.msid,c=s.activeMsid;a&&c&&a!==c?o=this.props.removeStickyClass:a&&(o="")}return"boolean"==typeof this.props.shouldRemoveSticky&&this.props.shouldRemoveSticky&&(o=this.props.removeStickyClass),this.state.removeStickyClassEnable&&(o=this.props.removeStickyClass),r.a.createElement("div",{className:"".concat(this.props.outerContainerClass," ").concat(t," ").concat(o),ref:function(t){e.stickyDiv=t}},r.a.createElement("div",{ref:function(t){e.stickyDivChild=t},className:i?n:""},this.props.children))}}])&&a(t.prototype,o),n&&a(t,n),p}(r.a.Component);d.defaultProps={offsetFromTop:0,appclass:"",outerContainerClass:"",stickyFromTopStaticHeight:void 0,aboveFooter:!1,callbackProvided:void 0,msid:void 0,activeMsid:void 0,removeStickyOnArticleChange:!1,removeStickyClass:"",shouldRemoveSticky:void 0,idSelectorInViewRemoveSticky:void 0}},509:function(e,t,o){"use strict";o.d(t,"q",(function(){return M})),o.d(t,"r",(function(){return U})),o.d(t,"s",(function(){return H})),o.d(t,"p",(function(){return W})),o.d(t,"d",(function(){return z})),o.d(t,"a",(function(){return G})),o.d(t,"c",(function(){return q})),o.d(t,"f",(function(){return K})),o.d(t,"g",(function(){return Z})),o.d(t,"o",(function(){return Y})),o.d(t,"e",(function(){return J})),o.d(t,"b",(function(){return Q})),o.d(t,"l",(function(){return $})),o.d(t,"h",(function(){return ee})),o.d(t,"m",(function(){return te})),o.d(t,"n",(function(){return oe})),o.d(t,"j",(function(){return ne})),o.d(t,"k",(function(){return re})),o.d(t,"i",(function(){return ie}));var n=o(476),r=o(133),i=o(28),s=o(64),a=o(32),c=o(131),l=o.n(c);function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){d(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m=function(e){return"toi/".concat("articleshow","/").concat(e)},h=m("RECEIVE_DATA"),f=m("HANDLE_DATA_ERROR"),g=m("TOGGLE_NIC"),v=m("RECEIVE_DATA_NIC"),y=m("NIC_LOADING"),b=m("NIC_LOADED"),_=m("DATA_LOADING"),w=m("DATA_LOADED"),C=m("ADD_DOCK_CANDIDATE"),S=m("ADD_UNDOCK_CANDIDATE"),O=m("DELETE_DOCK_CANDIDATE"),D=m("DELETE_UNDOCK_CANDIDATE"),x=m("OPEN_VIDEO_THEATRE"),k=m("CLOSE_VIDEO_THEATRE"),T=m("RECEIVE_DATA_VIDEO_THEATRE_SLIDER"),P=m("ADD_NEXT_VIDEO_MSID"),I=m("ELECTIONS_DATA_LOADED"),j=m("EXITPOLL_DATA_LOADED"),N=m("ASBREIFS_DATA_LOADED"),E=m("GEOLOCATION_VALUE"),R=m("AB_TEST_ON"),A=m("ARTICLE_TO_SHOW_COUNT"),B=m("ARTICLE_TO_SHOW_RESET_DAYS"),F=m("LOAD_MINITV_COMPONENT");function L(e){var t=e;if(e&&e.id){var o=l()(e,"ads.dfp.slots",{}),n=l()(e,"ads.ctn.slots",{}),r=0,i=Object.keys(o);if(i&&i.length>0)for(;r<i.length;r+=1)o[i[r]].experiment&&o[i[r]].experiment.adCode&&(o[i[r]].experiment.divId=o[i[r]].divId,t.ads.dfp.slots[i[r]]=u(u({},o[i[r]]),o[i[r]].experiment),t.ads.dfp.slots[i[r]].experiment=null);if(r=0,(i=Object.keys(n))&&i.length>0)for(;r<i.length;r+=1)n[i[r]].experiment&&n[i[r]].experiment.slotId&&(t.ads.ctn.slots[i[r]].slotId=n[i[r]].experiment.slotId)}return t}function V(e){return{type:f,error:e}}function M(e){return e=L(e),{type:h,payload:{data:e,msid:e.id}}}function U(e){return{type:A,payload:e}}function H(e){return{type:B,payload:e}}function W(e){return{type:g,payload:{isNicOpen:e}}}function X(){return{type:w,payload:{}}}function z(){return{type:R,payload:{data:!0}}}function G(e){return{type:C,payload:{data:e}}}function q(e){return{type:S,payload:{data:e}}}function K(){return{type:O,payload:{}}}function Z(){return{type:D,payload:{}}}function Y(e,t,o){return{type:x,payload:{videoTheatreSliderPath:e,videoTheatreCurrMsid:t,videoTheatreCurrItem:o}}}function J(){return{type:k,payload:{}}}function Q(e){return{type:P,payload:e}}function $(e){return{type:F,payload:e}}function ee(e,t,o){return function(n){return n({type:_,payload:{}}),function(e,t){var o=t?"&frmapp=yes":"",n=e.isTestOutstream?"&test=outstream":"",i="/articleshow/".concat(Object(a.n)(e.fullPath),".cms"),c="".concat(Object(r.b)(),"/toi/web/show/news?path=").concat(i).concat(o).concat(n);return s.a.get(c)}(e,t).then((function(e){n(X()),n(function(e,t){return t&&(e=L(e)),{type:h,payload:{data:e,msid:e.id}}}(e.data,o))})).catch((function(e){n(X()),n(V(e))}))}}function te(e){return function(t){t({type:y,payload:{}}),function(e){var t="/articleshow/".concat(Object(a.n)(e),".cms"),o="".concat(Object(r.b)(),"/toi/web/show/news?path=").concat(t);return s.a.get(o)}(e).then((function(o){return t(function(e,t){return{type:v,payload:{nic:{url:e,data:t.data}}}}(e,o))})).then((function(){return t({type:b,payload:{}})})).catch((function(e){return t(V(e))}))}}function oe(e){return function(t){return function(e){var t=e;if(e&&e.startsWith("https://")){var o=e.replace("https://timesofindia.indiatimes.com/","").replace(/\/videoshow\/\d+.cms/,"").split("/");o.pop(),t=Object(n.a)({path:"/".concat(o.join("/")),perpage:10})}return s.a.get(t)}(e).then((function(e){return t(function(e){return{type:T,payload:{data:e.data}}}(e))}))}}function ne(e){return function(t){return function(e){return s.a.get(e)}(e).then((function(e){return t(function(e){return{type:I,payload:e.data}}(e))}))}}function re(e){return function(t){return function(e){return s.a.get(e)}(e).then((function(e){return t(function(e){return{type:j,payload:e.data}}(e))}))}}function ie(e){return function(t){return function(e){return s.a.get(e)}(e).then((function(e){return t(function(e){return{type:N,payload:e.data}}(e))}))}}i.a.register("articleshow",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case h:var o=e.data?u({},e.data):{};return o[t.payload.msid]=t.payload.data,u(u({},e),{},{data:o});case _:return u(u({},e),{},{dataLoading:!0});case w:return u(u({},e),{},{dataLoading:!1});case y:return u(u({},e),{},{nicLoading:!0});case b:return u(u({},e),{},{nicLoading:!1});case g:return u(u({},e),{},{isNicOpen:t.payload.isNicOpen});case v:return u(u({},e),{},{nic:t.payload.nic});case C:return u(u({},e),{},{dockCandidate:t.payload.data});case S:return u(u({},e),{},{unDockCandidate:t.payload.data});case O:return u(u({},e),{},{dockCandidate:void 0});case D:return u(u({},e),{},{unDockCandidate:void 0});case x:return u(u({},e),{},{isVideoTheatreOpen:!0,videoTheatreSliderPath:t.payload.videoTheatreSliderPath,videoTheatreCurrMsid:t.payload.videoTheatreCurrMsid,videoTheatreCurrItem:t.payload.videoTheatreCurrItem});case k:return u(u({},e),{},{isVideoTheatreOpen:!1,videoTheatreSliderPath:void 0});case T:return u(u({},e),{},{videoTheatreSliderData:t.payload.data.data.items});case P:return u(u({},e),{},{msidForNextVideo:t.payload});case F:return u(u({},e),{},{loadedMiniTvComponent:t.payload});case I:return u(u({},e),{},{electionsData:t.payload||{}});case j:return u(u({},e),{},{exitPollData:t.payload||{}});case N:return u(u({},e),{},{asBriefsData:t.payload});case E:return u(u({},e),{},{geolocationValue:t.payload.geolocationValue||1});case R:return u(u({},e),{},{abTestRunning:!0});case A:return u(u({},e),{},{articleToShowCount:t.payload});case B:return u(u({},e),{},{articleToShowResetDays:t.payload});default:return e}}))},624:function(e,t,o){"use strict";o.r(t);var n=o(12),r=o.n(n),i=o(130),s=o(56),a=o.n(s),c=o(460),l=o.n(c),p=o(131),u=o.n(p),d=(o(10),o(32)),m=o(681),h=o(509),f=o(515),g=o(481);function v(){return"Refrain from posting comments that are obscene, defamatory or inflammatory,\n\t\t\t and do not indulge in personal attacks, name calling or inciting hatred\n\t\t\t against any community. Help us delete comments that do not follow these\n\t\t\t guidelines by marking them offensive. Let's work together to keep the\n\t\t\t conversation civil."}var y=o(486),b=o(1479),_=o.n(b),w=o(1480),C=o.n(w),S=o(1087),O=o.n(S),D=o(1482),x=o.n(D),k={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},T={zIndex:2,position:"absolute",top:0,bottom:0,transition:"transform .3s ease-out",WebkitTransition:"-webkit-transform .3s ease-out",willChange:"transform",overflowY:"auto"},P={position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",WebkitOverflowScrolling:"touch",transition:"left .3s ease-out, right .3s ease-out"},I={zIndex:1,position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0,visibility:"hidden",transition:"opacity .3s ease-out, visibility .3s ease-out",backgroundColor:"rgba(0,0,0,.3)"},j={zIndex:1,position:"fixed",top:0,bottom:0},N=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={sidebarWidth:t.defaultSidebarWidth,touchIdentifier:null,touchStartX:null,touchCurrentX:null,dragSupported:!1},o.overlayClicked=o.overlayClicked.bind(x()(x()(o))),o.onTouchStart=o.onTouchStart.bind(x()(x()(o))),o.onTouchMove=o.onTouchMove.bind(x()(x()(o))),o.onTouchEnd=o.onTouchEnd.bind(x()(x()(o))),o.onScroll=o.onScroll.bind(x()(x()(o))),o.saveSidebarRef=o.saveSidebarRef.bind(x()(x()(o))),o}O()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=/iPad|iPhone|iPod/.test(navigator?navigator.userAgent:"");this.setState({dragSupported:"object"==typeof window&&"ontouchstart"in window&&!e}),this.saveSidebarWidth()},o.componentDidUpdate=function(){this.isTouching()||this.saveSidebarWidth()},o.onTouchStart=function(e){if(!this.isTouching()){var t=e.targetTouches[0];this.setState({touchIdentifier:t.identifier,touchStartX:t.clientX,touchCurrentX:t.clientX})}},o.onTouchMove=function(e){if(this.isTouching())for(var t=0;t<e.targetTouches.length;t++)if(e.targetTouches[t].identifier===this.state.touchIdentifier){this.setState({touchCurrentX:e.targetTouches[t].clientX});break}},o.onTouchEnd=function(){if(this.isTouching()){var e=this.touchSidebarWidth();(this.props.open&&e<this.state.sidebarWidth-this.props.dragToggleDistance||!this.props.open&&e>this.props.dragToggleDistance)&&this.props.onSetOpen(!this.props.open),this.setState({touchIdentifier:null,touchStartX:null,touchCurrentX:null})}},o.onScroll=function(){this.isTouching()&&this.inCancelDistanceOnScroll()&&this.setState({touchIdentifier:null,touchStartX:null,touchCurrentX:null})},o.inCancelDistanceOnScroll=function(){return this.props.pullRight?Math.abs(this.state.touchCurrentX-this.state.touchStartX)<20:Math.abs(this.state.touchStartX-this.state.touchCurrentX)<20},o.isTouching=function(){return null!==this.state.touchIdentifier},o.overlayClicked=function(){this.props.open&&this.props.onSetOpen(!1)},o.saveSidebarWidth=function(){var e=this.sidebar.offsetWidth;e!==this.state.sidebarWidth&&this.setState({sidebarWidth:e})},o.saveSidebarRef=function(e){this.sidebar=e},o.touchSidebarWidth=function(){return this.props.pullRight?this.props.open&&window.innerWidth-this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth+this.state.touchStartX-this.state.touchCurrentX:this.state.sidebarWidth:Math.min(window.innerWidth-this.state.touchCurrentX,this.state.sidebarWidth):this.props.open&&this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth:this.state.sidebarWidth-this.state.touchStartX+this.state.touchCurrentX:Math.min(this.state.touchCurrentX,this.state.sidebarWidth)},o.render=function(){var e,t=C()({},T,this.props.styles.sidebar),o=C()({},P,this.props.styles.content),n=C()({},I,this.props.styles.overlay),i=this.state.dragSupported&&this.props.touch,s=this.isTouching(),a={className:this.props.rootClassName,style:C()({},k,this.props.styles.root),role:"navigation",id:this.props.rootId},c=this.props.shadow&&(s||this.props.open||this.props.docked);if(this.props.pullRight?(t.right=0,t.transform="translateX(100%)",t.WebkitTransform="translateX(100%)",c&&(t.boxShadow="-2px 2px 4px rgba(0, 0, 0, 0.15)")):(t.left=0,t.transform="translateX(-100%)",t.WebkitTransform="translateX(-100%)",c&&(t.boxShadow="2px 2px 4px rgba(0, 0, 0, 0.15)")),s){var l=this.touchSidebarWidth()/this.state.sidebarWidth;this.props.pullRight?(t.transform="translateX("+100*(1-l)+"%)",t.WebkitTransform="translateX("+100*(1-l)+"%)"):(t.transform="translateX(-"+100*(1-l)+"%)",t.WebkitTransform="translateX(-"+100*(1-l)+"%)"),n.opacity=l,n.visibility="visible"}else this.props.docked?(0!==this.state.sidebarWidth&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)"),this.props.pullRight?o.right=this.state.sidebarWidth+"px":o.left=this.state.sidebarWidth+"px"):this.props.open&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)",n.opacity=1,n.visibility="visible");if(!s&&this.props.transitions||(t.transition="none",t.WebkitTransition="none",o.transition="none",n.transition="none"),i)if(this.props.open)a.onTouchStart=this.onTouchStart,a.onTouchMove=this.onTouchMove,a.onTouchEnd=this.onTouchEnd,a.onTouchCancel=this.onTouchEnd,a.onScroll=this.onScroll;else{var p=C()({},j,this.props.styles.dragHandle);p.width=this.props.touchHandleWidth,this.props.pullRight?p.right=0:p.left=0,e=r.a.createElement("div",{style:p,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd})}return r.a.createElement("div",a,r.a.createElement("div",{className:this.props.sidebarClassName,style:t,ref:this.saveSidebarRef,id:this.props.sidebarId},this.props.sidebar),r.a.createElement("div",{className:this.props.overlayClassName,style:n,onClick:this.overlayClicked,id:this.props.overlayId}),r.a.createElement("div",{className:this.props.contentClassName,style:o,id:this.props.contentId},e,this.props.children))},t}(n.Component);N.defaultProps={docked:!1,open:!1,transitions:!0,touch:!0,touchHandleWidth:20,pullRight:!1,shadow:!0,dragToggleDistance:30,onSetOpen:function(){},styles:{},defaultSidebarWidth:0};var E,R=N,A=o(478),B=o(450),F=o(504),L=o(1483),V=o.n(L),M=o(447),U=o(464);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t,o,n){E||(E="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),a=0;a<i;a++)s[a]=arguments[a+3];t.children=s}if(t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});return{$$typeof:E,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function X(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function z(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?X(Object(o),!0).forEach((function(t){G(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):X(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function G(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function q(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=J(e);if(t){var r=J(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Y(this,o)}}function Y(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,o){Object(B.a)("gaAndGrx","send","event",e,t,o)}var $=W("h3",{},void 0,"Continue without login"),ee=W("span",{},void 0,"or"),te=W("h3",{},void 0,"Login from existing account"),oe=W("small",{},void 0,"Facebook"),ne=W("small",{},void 0,"Google"),re=W("small",{},void 0,"Email"),ie=W("span",{},void 0,"Share on Facebook"),se=W("span",{},void 0,"Share on Twitter"),ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(s,e);var t,o,n,i=Z(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).handleCommentBoxInput=function(t){e.setState({commentBoxInput:t.target.value})},e.inputChangeName=function(t){var o=t.target.value;e.setState({name:o})},e.inputChangeEmail=function(t){var o=t.target.value;e.setState({email:o})},e.inputChangeLoc=function(t){var o=t.target.value;e.setState({loc:o})},e.inputChangeCaptcha=function(t){var o=t.target.value;e.setState({captcha:o})},e.alphaOnly=function(e){return/^[A-z\s]+$/.test(e)},e.email=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e.isNonLoggedInFormValid=function(){var t=!1,o="",n={},r=e.state,i=r.name,s=r.email,a=r.loc,c=r.captcha;return n.name=i.trim(),n.email=s.trim(),n.loc=a.trim(),n.captcha=c.trim(),e.props.isPrivateUser?o=e.messages.login_required:0===n.name.length?o=e.messages.name_required:e.alphaOnly(n.name)?0===n.email.length?o=e.messages.email_required:e.email(n.email)?0===n.loc.length?o=e.messages.location_required:e.alphaOnly(n.loc)?n.captcha?isNaN(n.captcha)||parseInt(n.captcha,10)!==e.captchaSum?o=e.messages.captcha_invalid:t=!0:o=e.messages.captcha_required:o=e.messages.location_not_string:o=e.messages.email_invalid:o=e.messages.name_not_string,e.setState({errorMsg:o}),{validForm:t,user:n}},e.postToSocial=function(t){var o=z(z({},e.socialSiteObj()),{},{message:t}),n=!1,r=!1;e.twitterRef&&e.twitterRef.current&&e.twitterRef.current.checked&&(e.postToTwitter(o),n=!0),e.fbRef&&e.fbRef.current&&e.fbRef.current.checked&&(Object(d.F)(e.postToFB(o)),r=!0),n&&Q("comment","submit-twtshare-comment_section","msid_".concat(e.props.pageMsid)),r&&Q("comment","submit-fbshare-comment_section","msid_".concat(e.props.pageMsid))},e.socialSiteObj=function(){var t=e.props.seoData;return{link:t.canonical||e.getMeta("og:url"),title:t.title||e.getMeta("og:title"),domain:window.location.host,picture:t.ogimage||e.getMeta("og:image"),desc:t.description||e.getMeta("og:description")}},e.getMeta=function(e){if(!e)return"";var t="",o=document.querySelector("meta[property='".concat(e,"']"));return o&&(t=o.getAttribute("content")),t},e.postToFB=function(e){window.FB.ui({method:"feed",message:e.message,name:e.title,link:e.link,picture:e.picture,caption:e.domain,description:e.desc})},e.postToTwitter=function(e){window.open("https://twitter.com/intent/tweet?text=".concat(escape(e.message)," - ").concat(e.link,"&original_referer=https://").concat(window.location.hostname,"/share.cms"),"socialPost","width=600,height=230,left=383,top=249,scrollbars=0,resizable=false")},e.showDisclaimer=function(){var t={},o=!1,n=e.props.isUserLoggedin(e.props.userData);e.state.showDisclaimer||(t.showDisclaimer=!0,o=!0),n||e.state.showLoginBox||(t.showLoginBox=!0,o=!0),o&&e.setState(z({},t))},e.showLoginScreen=function(){e.checkIfCommentIsEmpty()&&e.props.openLoginBox(!0)},e.loginWithFb=function(){e.checkIfCommentIsEmpty()&&Object(U.e)()},e.loginWithGoogle=function(){e.checkIfCommentIsEmpty()&&Object(U.f)()},e.checkIfCommentIsEmpty=function(){var t=!0,o=e.state.commentBoxInput;return o&&o.trim()||(e.showError(e.messages.empty_message),t=!1),t},e.closeCommentReply=function(){e.props.showAddCommentBox(!1)},e.state={isCommentWriteBoxVisible:!0,errorMsg:"",showLoginBox:!1,showDisclaimer:!1,name:"",email:"",loc:"",captcha:"",commentBoxInput:""},e.captchaSum=0,e.messages={login_required:"Please login to post your comment.",name_required:"Please enter your name.",location_required:"Please enter your location.",captcha_required:"Please enter captcha value.",name_toolong:"Name cannot be longer than 30 chars.",name_not_string:"Name can only contain alphabets.",location_toolong:"Location cannot be longer than 30 chars.",location_not_string:"Location can only contain alphabets.",captcha_toolong:"Captcha cannot be longer than 4 chars.",captcha_number_only:"Captcha value can only be a number.",captcha_invalid:"Please enter a valid captcha value.",email_required:"Please enter your email address.",email_invalid:"Please enter a valid email address.",empty_message:"You can't post this review as it is blank."},e.fbRef=r.a.createRef(),e.twitterRef=r.a.createRef(),e}return t=s,(o=[{key:"componentWillMount",value:function(){this.captchaText=this.getCaptchaText()}},{key:"componentDidUpdate",value:function(e){e.userData.isLoggedIn!==this.props.userData.isLoggedIn&&this.showError()}},{key:"getCaptchaText",value:function(){var e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),o=e+t;return this.captchaSum=o,"".concat(e,"+").concat(t,"=")}},{key:"onKeyPress",value:function(e){13===e.which&&this.addComment()}},{key:"resetCommentBox",value:function(){this.setState({commentBoxInput:""})}},{key:"showError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({errorMsg:e})}},{key:"addComment",value:function(){var e,t,o=this.state.commentBoxInput,n=this.props.isUserLoggedin(this.props.userData);if(this.checkIfCommentIsEmpty()){if(!n){var r=this.isNonLoggedInFormValid();if(!r.validForm)return;t=z({},r.user)}this.showError(),this.props.getParentComment&&"function"==typeof this.props.getParentComment&&(e=this.props.getParentComment());var i=e&&e.msid||0,s=this.props.getMsid&&this.props.getMsid()||0,a=this.props.pageMsid,c={message:o,rootid:i,parentid:s,ArticleID:a,msid:a};n?(this.props.handleAddComment(c),this.setState({showVerifyMessage:!1}),this.postToSocial(c.message)):(this.props.handleAddComment(c,t),this.setState({showVerifyMessage:!0})),this.resetCommentBox(),this.props.toggleResponses&&this.props.toggleResponses(!0),this.props.showAddCommentBox&&this.props.showAddCommentBox(!1),Q(window&&window.categoryForGA?"".concat(window.categoryForGA):"WEB-".concat(window.location.href),"comment-submit-comment_section","msid_".concat(this.props.pageMsid))}}},{key:"getLoginBox",value:function(){var e=this,t=this.props.styles;return W("div",{className:"".concat(t.signinform," clearfix ").concat(this.props.isPrivateUser?t.euUser:"")},void 0,W("div",{className:"clearfix"},void 0,!this.props.isPrivateUser&&r.a.createElement(r.a.Fragment,null,W("div",{className:t.signin},void 0,$,W("input",{className:t.textbox,placeholder:"Full Name",onChange:function(t){return e.inputChangeName(t)},value:this.state.name,maxLength:"30"}),W("input",{className:t.textbox,placeholder:"Email",onChange:function(t){return e.inputChangeEmail(t)},value:this.state.email}),W("input",{className:"".concat(t.textbox," ").concat(t.location),placeholder:"Location",onChange:function(t){return e.inputChangeLoc(t,"loc")},value:this.state.loc,maxLength:"30"}),W("span",{className:"".concat(t.mathbox," clearfix")},void 0,W("span",{},void 0,this.captchaText),W("input",{className:t.textbox,onChange:function(t){return e.inputChangeCaptcha(t)},value:this.state.captcha,maxLength:"4"}))),W("div",{className:t.divider},void 0,ee)),W("div",{className:t.socialsignin},void 0,te,W("span",{className:t.fb,title:"Facebook",onClick:function(){e.loginWithFb()}},void 0,oe),W("span",{className:t.google,title:"Google",onClick:function(){return e.loginWithGoogle()}},void 0,ne),W("span",{className:t.email,title:"Email",onClick:function(){return e.showLoginScreen()}},void 0,re))))}},{key:"render",value:function(){var e=this,t=this.props.isUserLoggedin(this.props.userData),o=this.props.renderUserIcon(),n=this.props.styles,i=this.props.mainCommentBox&&this.props.showFixedHeader;return r.a.createElement(r.a.Fragment,null,this.state.isCommentWriteBoxVisible&&W("div",{className:i?n.commenttopareafixed:""},void 0,W("div",{className:"".concat(n.comment_input," ").concat(n.top_input," ").concat(this.props.isWapView?n.mobile:"")},void 0,!this.props.prime&&o,this.props.mainCommentBox&&r.a.createElement("textarea",{id:"comment-sidebar-input-".concat(this.props.pageMsid),type:"text",placeholder:"Leave a comment…","aria-label":"leave comment",cols:"40",rows:"5",maxLength:"3000",ref:this.props.commentTextInputRef,onKeyPress:function(t){return e.onKeyPress(t)},onFocus:function(){return e.showDisclaimer()},onChange:this.handleCommentBoxInput,value:this.state.commentBoxInput}),!this.props.mainCommentBox&&W("textarea",{type:"text",placeholder:"Leave a comment…","aria-label":"leave comment",cols:"40",rows:"5",maxLength:"3000",onKeyPress:function(t){return e.onKeyPress(t)},onFocus:function(){return e.showDisclaimer()},onChange:this.handleCommentBoxInput,value:this.state.commentBoxInput}),W("button",{"aria-label":"add comment",onClick:function(){return e.addComment()}}),W("span",{className:n.numbertxt},void 0,this.state.commentBoxInput.length,"/3000"),this.props.showCloseButton&&W("div",{className:n.close,onClick:function(){e.closeCommentReply()}},void 0,"+")),this.state.errorMsg&&W("div",{className:n.commentposterror},void 0,this.state.errorMsg),this.state.showLoginBox&&!this.props.userData.isLoggedIn&&this.getLoginBox(),!this.props.prime&&!this.props.isWapView&&t&&this.state.showDisclaimer&&W("div",{className:"".concat(n.socialpost," clearfix")},void 0,W("label",{className:n.fb},void 0,W("i",{className:n.iconfb}),r.a.createElement("input",{type:"checkbox",ref:this.fbRef}),ie),W("label",{className:n.twitter},void 0,W("i",{className:n.icontwitter}),r.a.createElement("input",{type:"checkbox",ref:this.twitterRef}),se)),this.state.showDisclaimer&&W("p",{className:n.disclaimer},void 0," ",this.props.disclaimer()),this.props.showVerificationMsg&&this.state.showVerifyMessage&&W("div",{className:n.commentverificationmsg},void 0,"We have sent you a verification email. To verify, just follow the link in the message"),i&&W("span",{className:n.closefixheadersection,onClick:function(){return e.props.hideFixedHeader()}},void 0,"HIDE")))}}])&&q(t.prototype,o),n&&q(t,n),s}(r.a.Component);ae.defaultProps={userData:void 0,getParentComment:void 0,getMsid:void 0,toggleResponses:void 0,showAddCommentBox:void 0,showCloseButton:!1,prime:!1,isWapView:!1,mainCommentBox:!1,disclaimer:function(){},showVerificationMsg:!1,showFixedHeader:!1,hideFixedHeader:function(){},seoData:{},isPrivateUser:!0};var ce=ae;function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=he(e);if(t){var r=he(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return me(this,o)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(s,e);var t,o,n,i=de(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={},t}return t=s,(o=[{key:"componentDidMount",value:function(){if(this.myRef&&!this.unmounted){var e=this.myRef;e.getBoundingClientRect().top-this.props.offSetFromTop>e.offsetHeight&&this.setState({showAbove:!0})}}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this,t="",o=this.props.styles;return t=this.state.showAbove?o.tooltip_up:"tooltip_down",r.a.createElement("div",{className:"".concat(o.point_tooltip," ").concat(t),ref:function(t){e.myRef=t}},this.props.data)}}])&&pe(t.prototype,o),n&&pe(t,n),s}(r.a.Component);fe.defaultProps={offSetFromTop:0};var ge,ve,ye,be,_e,we,Ce,Se,Oe=fe,De=o(448),xe=o(13),ke=o(514);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t,o,n){Se||(Se="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),a=0;a<i;a++)s[a]=arguments[a+3];t.children=s}if(t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});return{$$typeof:Se,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Ie(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Ae(e);if(t){var r=Ae(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Ee(this,o)}}function Ee(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t,o,n,r){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce((function(o,n){return n(e,t,o)||o}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function Fe(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var Ve,Me,Ue,He,We,Xe,ze=Pe("h4",{},void 0,"Badges Earned"),Ge=Pe("h4",{},void 0,"Find this comment offensive?"),qe=Pe("h6",{},void 0,"Reason for reporting:"),Ke=Pe("li",{},void 0,Pe("label",{},void 0,Pe("input",{type:"radio",name:"radio1",value:"Foul language"}),Pe("span",{},void 0,"Foul language"))),Ze=Pe("li",{},void 0,Pe("label",{},void 0,Pe("input",{type:"radio",name:"radio1",value:"Defamatory"}),Pe("span",{},void 0,"Defamatory"))),Ye=Pe("li",{},void 0,Pe("label",{},void 0,Pe("input",{type:"radio",name:"radio1",value:"Inciting hatred against a certain community"}),Pe("span",{},void 0,"Inciting hatred against a certain community"))),Je=Pe("li",{},void 0,Pe("label",{},void 0,Pe("input",{type:"radio",name:"radio1",value:"Out of context/Spam"}),Pe("span",{},void 0,"Out of context/Spam"))),Qe=Pe("li",{},void 0,Pe("label",{},void 0,Pe("input",{type:"radio",name:"radio1",value:"Others"}),Pe("span",{},void 0,"Others"))),$e=(ge=Object(De.a)({}),ve=Object(De.a)({}),ye=Object(De.a)({}),be=Object(De.a)({}),Ce=we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(s,e);var t,o,n,i=Ne(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).textAreaHandler=function(t){e.setState({othersTextAreaVal:t.target.value})},e.onFlagRequestComplete=function(){Object(ke.c)(e.msid,"103",0,1,y.a.OFFENSIVE),e.setState({flagRequestComplete:!0})},e.onFlagSubmit=function(){e.props.isUserLoggedin(e.props.userData)?e.onFlagComment():Object(U.d)((function(t){t&&t.uid&&e.onFlagComment()}))},e.onFlagComment=function(){if(e.props.isUserLoggedin(e.props.userData)){var t=e.props,o=t.userData,n=t.data;if(e.flagReason&&e.flagReason.trim()&&("others"!==e.flagReason.toLowerCase()||e.state.othersTextAreaVal.trim())){var r=e.props.isUserLoggedin(e.props.userData)?"1":"0",i={ofreason:e.flagReason,ofusername:o.getFullName(),ofcommenteroid:n._id,ofcommentid:e.props.pageMsid,ofuserisloggedin:r,ofuserssoid:o.getEmail(),ofuseremail:o.getEmail()};e.props.hideFlag(e.props.data._id),e.props.onFlagComment(i,e.onFlagRequestComplete)}else e.setState({showFlagErrorForNoSelection:!0})}},e.hideFlag=function(){e.props.hideFlag(e.props.data._id)},e.getParentComment=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re(e);return t.getParentComment?t.getParentComment(e.props.parent):Re(e)},e.getImmediateParent=function(){return e.props.parent},e.getMsid=function(){return e.props.data._id},e.renderNextLevelOverlay=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=s.pointsNeeded(t),n=e.props.styles;return Pe(r.a.Fragment,{},void 0,Pe("p",{},void 0,Pe("strong",{},void 0,o)," more points needed to reach next level."),Pe("a",{href:"".concat(xe.B,"/abouttimesrewards.cms"),className:n.more,target:"_blank",rel:"noopener noreferrer"},void 0,"Know more about Times Points"))},e.renderBadges=function(t){if(!t)return null;var o=t.activityBadge||{},n=e.props.styles;return Pe("div",{},void 0,Pe("div",{className:n["heading-block"]},void 0,ze),Pe("div",{className:"".concat(n.content," ").concat(n.clearfix)},void 0,o.map((function(e,t){return Pe("div",{className:n.section},t,Pe("img",{className:n.badge,src:e.currentBadge.bimg,alt:""}),Pe("p",{},void 0,e.currentBadge.bname),Pe("div",{className:n.badgepoint},void 0,e.currentBadge.level))})),Pe("p",{className:n["more-info"]},void 0,Pe("a",{href:"".concat(xe.B,"/abouttimesrewards.cms"),className:n.more,target:"_blank",rel:"noopener noreferrer"},void 0,"Know more about Times Points"))))},e.renderFlagForm=function(){var t=e.props.styles;return Pe("div",{},void 0,Pe("div",{className:t["heading-block"]},void 0,Ge),Pe("div",{className:"".concat(t.content," ").concat(t.clearfix)},void 0,Pe("span",{className:t["success-message"]},void 0,"Your reason has been submitted to the Admin."),Pe("span",{className:t["info-txt"]},void 0,"Choose your reason below and click on the Submit button. This will alert our moderators to take action"),qe,Pe("ul",{className:t.reasons,onChange:function(t){return e.onReasonChange(t)}},void 0,Ke,Ze,Ye,Je,Qe,e.state.shouldShowFlagReasonBox&&Pe("li",{},void 0,r.a.createElement("textarea",{ref:function(t){e.domRefs.reasonTextArea=t||e.domRefs.reasonTextArea},className:t.offensive_popup_reason,value:e.state.othersTextAreaVal,onChange:function(t){return e.textAreaHandler(t)}}))),e.state.showFlagErrorForNoSelection&&Pe("div",{className:t.error},void 0,"Please enter a reason"),Pe("div",{className:t.buttons},void 0,Pe("span",{className:"".concat(t.button," ").concat(t.submit),onClick:e.onFlagSubmit},void 0,"Report this !"),Pe("span",{className:"".concat(t.button," ").concat(t.close_popup),onClick:e.hideFlag},void 0,"Close"))))},e.onReasonChange=function(t){e.flagReason=t&&t.target.value?t.target.value.toLowerCase():"",e.flagReason&&e.flagReason.trim()&&e.setState({showFlagErrorForNoSelection:!1}),e.showFlagReasonBox(t)},e.showFlagReasonBox=function(t){var o=!1,n=t&&t.target.value?t.target.value.toLowerCase():"";t.target!==e.domRefs.reasonTextArea&&("others"===n&&(o=!0),e.setState({shouldShowFlagReasonBox:o}))},e.onFlagClick=function(){e.props.onFlagClick(e.props.data)},e.handleAddComment=function(t,o){e.props.handleAddComment(t,o),e.toggleResponses(!0)},e.followUser=function(t){e.props.followUser(t)},e.handleShowMoreComment=function(){e.setState({showMoreComment:!0})},e.showAllResponses=function(){e.setState({showAllReplies:!0})},e.state={shouldShowResponses:!1,shouldShowAddCommentBox:!1,flagRequestComplete:!1,shouldShowFlagReasonBox:!1,showFlagErrorForNoSelection:!1,showMoreComment:!1,othersTextAreaVal:"",showAllReplies:!1},e.domRefs={},e.flagReason="",e.onVoteUp=e.onVoteUp.bind(Re(e)),e.onVoteDown=e.onVoteDown.bind(Re(e)),e.showAddCommentBox=e.showAddCommentBox.bind(Re(e)),e.toggleResponses=e.toggleResponses.bind(Re(e)),e.handleShowHideResponse=e.handleShowHideResponse.bind(Re(e)),e}return t=s,n=[{key:"pointsNeeded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="";return 0===parseInt(e,10)||e<250?t=250-e:e>249&&e<5e3?t=5e3-e:e>4999&&e<25e3?t=25e3-e:e>24999&&e<25e4&&(t=25e4-e),t}}],(o=[{key:"onVoteUp",value:function(){this.props.putVote(this.props.data,!0)}},{key:"onVoteDown",value:function(){this.props.putVote(this.props.data)}},{key:"showAddCommentBox",value:function(e){var t="boolean"!=typeof e||e;this.setState({shouldShowAddCommentBox:t}),e||this.props.resetCommentBoxId()}},{key:"toggleResponses",value:function(e){var t="boolean"==typeof e?e:!this.state.shouldShowResponses;this.setState({shouldShowResponses:t,showAllReplies:!1})}},{key:"handleShowHideResponse",value:function(){this.toggleResponses()}},{key:"render",value:function(){var e=this,t=this.props.data,o=t.F_NAME,n=t.A_D_N,r=t.CITY,i=t.C_D,s=t.C_A_ID,a=t.addedNow,c=t.C_T,l=t.CHILD,p=t.AC_A_C,u=t.AC_D_C,m=t.user_reward,h=t.user_reward_point_info,f=this.props.styles,g=this.props,v=g.data,y=g.shouldShowFlagForm,b=g.isPrivateUser,_=v.user_detail&&v.user_detail.thumb?v.user_detail.thumb:"",w=!(!v.user_detail||!v.user_detail.U_P_S||-1===[1,3,4,5,8].indexOf(parseInt(v.user_detail.U_P_S,10))),C=this.state,S=C.shouldShowResponses,O=C.shouldShowAddCommentBox,D=C.flagRequestComplete,x=m&&m.levelName?m.levelName.toLowerCase():"",k=this.props,T=k.parentUserName,P=k.isParent,I=V()(c),j=v.user_detail&&v.user_detail.CITY?v.user_detail.CITY:r,N=n||o,E=v.user_detail&&v.user_detail.D_N_U?v.user_detail.D_N_U:null,R=v.user_detail&&v.user_detail._id?v.user_detail._id:null,A=s,B=this.props.isUserLoggedin(this.props.userData)?"1":"0",F=parseInt(v.user_detail&&v.user_detail.F_C?v.user_detail.F_C:0,10),L="";F>0&&(L="( ".concat(F," ").concat(F>1?"followers":"follower"," )"));var U=function e(t){if(!t||0===t.length)return[];for(var o=Fe(t),n=[],r=0;r<t.length;r+=1)t[r].CHILD&&t[r].CHILD.length>0?n.splice.apply(n,[n.length,0,o[r]].concat(Fe(e(t[r].CHILD)))):n.splice(n.length,0,o[r]);return n}(l),H=this.props.userData&&"function"==typeof this.props.userData.getId?this.props.userData.getId():"";return Pe("li",{className:"".concat(f.comments_list," ").concat(A?f.aucmt:""," ").concat(!this.props.isPrime&&this.props.isHighlighted?f.highlighted:""," ").concat(w?f.primeuser:"")},void 0,Pe("div",{className:f.header},void 0,this.props.renderUserIcon(_,"comment-profile_photo-comment_section|userid_".concat(R)),Pe("h3",{"data-ga":"comment-profile_name-comment_section|userid_".concat(R),className:f.cmtname},void 0,E||R?Pe(M.a,{href:"http://mytimes.indiatimes.com/profile/".concat(E||R),target:"_blank",rel:"noopener noreferrer","data-ga":"comment-profile_name-comment_section|userid_".concat(R)},void 0,Object(d.b)(N||"")):Object(d.b)(N||"")),!b&&Pe("div",{className:f.point_container},void 0,m&&m.statusPoints>0&&Pe("div",{className:f.tooltip_wrap},void 0,Pe("span",{className:f[x]},void 0,m.statusPoints),Pe(Oe,{data:this.renderNextLevelOverlay(m.statusPoints),styles:f})),h&&h.activityBadge&&h.activityBadge.length>3&&Pe("div",{className:f.badges},void 0,Pe(Oe,{data:this.renderBadges(h),styles:f})))),!this.props.isPrime&&Pe("div",{className:f.user_details},void 0,T&&Pe("span",{className:f.metadata},void 0,Pe("i",{className:f.iconreply}),Object(d.b)(T)),j&&"unknown"!==j.toLowerCase()&&Pe("span",{className:f.userLocation,dangerouslySetInnerHTML:{__html:j}}),!a&&i&&Pe("span",{className:f.postTime},void 0,i),a&&Pe("span",{className:f.postTime},void 0,"Just Now"),o&&!this.props.isFollowee&&"1"===B&&v.user_detail&&v.user_detail._id&&H!==v.user_detail._id&&Pe("span",{className:f.follow,onClick:function(){return e.followUser(v.user_detail._id)},title:"Follow ".concat(o," ").concat(L)},void 0,"Follow"),this.props.isFollowee&&Pe("span",{className:f.userfollowing},void 0,Pe("span",{className:f.following,title:"Following ".concat(o," ").concat(L)},void 0,Pe("i",{className:f.iconfollow}),"Following"))),I.length>500&&!this.state.showMoreComment&&Pe("div",{className:f.comment_text},void 0,Pe("div",{className:f.truncated,dangerouslySetInnerHTML:{__html:"".concat(I.substr(0,500)," ... ")}}),Pe("span",{className:f.readmorecomment,onClick:function(){return e.handleShowMoreComment()}},void 0,"Read More")),(I.length<=500||I.length>500&&this.state.showMoreComment)&&Pe("div",{className:f.comment_text,dangerouslySetInnerHTML:{__html:I}}),!a&&Pe("div",{className:f.comment_actions},void 0,Pe("a",{onClick:function(t){return e.showAddCommentBox(t)},"data-ga":"comment-reply-comment_section|msid_".concat(this.props.pageMsid),className:f.comment_reply},void 0,"Reply"),P&&l&&!S&&Pe("a",{"data-ga":"comment-show_responses-comment_section|commentid_".concat(this.getMsid()),onClick:this.handleShowHideResponse,className:f.comment_response},void 0,"Show responses"),P&&l&&S&&Pe("a",{"data-ga":"comment-hide_responses-comment_section|commentid_".concat(this.getMsid()),onClick:this.handleShowHideResponse},void 0,"Hide responses"),Pe("span",{className:f.upContainer,"data-ga":"comment-upvote-comment_section|commentid_".concat(this.getMsid()),onClick:this.onVoteUp},void 0,Pe("i",{className:f.voteUp}),Pe("span",{},void 0,p)),Pe("span",{className:f.downContainer,"data-ga":"comment-downvote-comment_section|commentid_".concat(this.getMsid()),onClick:this.onVoteDown},void 0,Pe("i",{className:f.voteDown}),Pe("span",{},void 0,u)),D&&Pe("span",{className:f.flagComment},void 0,this.props.isPrime?"":"flagged"),!D&&Pe("span",{className:f.flagComment},void 0,Pe("a",{onClick:this.onFlagClick,className:f.flagicon},void 0,this.props.isPrime?"":"flag"),y&&Pe(Oe,{data:this.renderFlagForm(),styles:f,offSetFromTop:60}))),this.props.errorMsg&&Pe("div",{className:f.error},void 0,this.props.errorMsg),(O||this.props.openCommentBox)&&Pe(ce,{showAddCommentBox:this.showAddCommentBox,toggleResponses:this.toggleResponses,userData:this.props.userData,openLoginBox:this.props.openLoginBox,isUserLoggedin:this.props.isUserLoggedin,handleAddComment:this.handleAddComment,pageMsid:this.props.pageMsid,getMsid:this.getMsid,getImmediateParent:this.getImmediateParent,getParentComment:this.getParentComment,renderUserIcon:this.props.renderUserIcon,disclaimer:this.props.disclaimer,showCloseButton:!0,styles:this.props.styles,prime:this.props.isPrime,isWapView:this.props.isWapView,commentTextInputRef:this.props.commentTextInputRef,showVerificationMsg:this.props.showVerificationMsg,seoData:this.props.seoData,isPrivateUser:this.props.isPrivateUser}),Pe("div",{className:f.indentRight},void 0,(S||!P)&&this.props.level<1&&this.props.renderCommentList(this.state.showAllReplies?U:U.slice(0,3),this,this.props.level+1),(S||!P)&&0===this.props.level&&!this.state.showAllReplies&&U.length>3&&Pe("div",{className:f.show_all_responses,onClick:function(){return e.showAllResponses()}},void 0,"Show all responses")))}}])&&Ie(t.prototype,o),n&&Ie(t,n),s}(r.a.Component),we.defaultProps={userData:void 0,parent:void 0,parentUserName:"",isParent:!0,isPrime:!1,isWapView:!1,openCommentBox:!1,resetCommentBoxId:function(){},errorMsg:"",shouldShowFlagForm:!1,showVerificationMsg:!1,seoData:{},isHighlighted:!1,level:0,isFollowee:!1,isPrivateUser:!0},Be((_e=Ce).prototype,"onVoteUp",[ge],Object.getOwnPropertyDescriptor(_e.prototype,"onVoteUp"),_e.prototype),Be(_e.prototype,"onVoteDown",[ve],Object.getOwnPropertyDescriptor(_e.prototype,"onVoteDown"),_e.prototype),Be(_e.prototype,"showAddCommentBox",[ye],Object.getOwnPropertyDescriptor(_e.prototype,"showAddCommentBox"),_e.prototype),Be(_e.prototype,"handleShowHideResponse",[be],Object.getOwnPropertyDescriptor(_e.prototype,"handleShowHideResponse"),_e.prototype),_e),et=o(1484),tt=o.n(et);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t,o,n){Xe||(Xe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),a=0;a<i;a++)s[a]=arguments[a+3];t.children=s}if(t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});return{$$typeof:Xe,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function rt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=lt(e);if(t){var r=lt(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return at(this,o)}}function at(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?ct(e):t}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t,o,n,r){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce((function(o,n){return n(e,t,o)||o}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ut=nt("i",{className:"icon uparrow"}),dt=nt("i",{className:"icon downarrow"}),mt=(Ve=Object(De.a)({}),Me=Object(De.a)({}),Ue=Object(De.a)({}),He=Object(De.a)({}),pt((We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(i,e);var t,o,n,r=st(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this)).flagHandler=function(){setTimeout((function(){e.props.flagHandler(e.props.data)}),0)},e.onVoteUp=e.onVoteUp.bind(ct(e)),e.onVoteDown=e.onVoteDown.bind(ct(e)),e.openAddCommentBox=e.openAddCommentBox.bind(ct(e)),e.handleCommentClick=e.handleCommentClick.bind(ct(e)),e}return t=i,(o=[{key:"onVoteUp",value:function(){this.props.putVote(this.props.data,!0)}},{key:"onVoteDown",value:function(){this.props.putVote(this.props.data)}},{key:"openAddCommentBox",value:function(e,t){this.props.openAddCommentBox(t)}},{key:"handleCommentClick",value:function(e,t){this.props.onClick(t)}},{key:"render",value:function(){var e,t,o=this,n=this.props.data,r=n.A_D_N,i=n.F_NAME,s=n.C_T,a=n.AC_A_C,c=n.AC_D_C,l=n.C_A_ID,p=n.addedNow,u=r||i,d=this.props.data,m=d.user_detail&&d.user_detail.thumb?d.user_detail.thumb:"",h=(e=s,(t=document.createElement("div")).innerHTML=e,t.innerText),f=d.user_detail&&d.user_detail.D_N_U?d.user_detail.D_N_U:null,g=d.user_detail&&d.user_detail._id?d.user_detail._id:null,v=l,y=!(!d.user_detail||!d.user_detail.U_P_S||-1===[1,3,4,5,8].indexOf(parseInt(d.user_detail.U_P_S,10)));return nt("div",{className:"".concat(tt.a.innercomment_box," ").concat(v?tt.a.aucmt:""," ").concat(this.props.isPrime?tt.a.prime:""," ").concat(y?tt.a.primeuser:""),onClick:function(e){return o.handleCommentClick(e,o.props.id)}},void 0,nt("div",{className:"user_thumbnail","data-ga":"comment-profile_photo-below_as|userid_".concat(g)},void 0,this.props.renderUserIcon(m,"comment-profile_photo-below_as|userid_".concat(g))),nt("div",{className:"comment_right"},void 0,f||g?nt(M.a,{to:"http://mytimes.indiatimes.com/profile/".concat(f||g),className:"name ".concat(tt.a.name),target:"_blank",rel:"noopener noreferrer nofollow","data-ga":"comment-profile_name-below_as|userid_".concat(g)},void 0,u):nt("span",{className:"name ".concat(tt.a.name)},void 0,u||""),nt("p",{className:"short_comment",dangerouslySetInnerHTML:{__html:unescape(h&&h.length>150?"".concat(h.substr(0,150),"..."):h)}}),!p&&nt("div",{className:"footbar clearfix"},void 0,nt("span",{className:"reply_txt","data-ga":"comment-reply-below_as|msid_".concat(this.props.msid),onClick:function(e){return o.openAddCommentBox(e,o.props.id)}},void 0,"Reply"),nt("span",{className:"upContainer","data-ga":"comment-upvote-below_as|commentid_".concat(this.props.id),onClick:function(e){return o.onVoteUp(e)}},void 0,ut,nt("span",{},void 0,a)),nt("span",{className:"downContainer","data-ga":"comment-downvote-below_as|commentid_".concat(this.props.id),onClick:function(e){return o.onVoteDown(e)}},void 0,dt,nt("span",{},void 0,c)),this.props.isPrime&&nt("span",{className:"flagicon",onClick:function(){return o.flagHandler()}}),!this.props.isPrime&&nt("span",{className:tt.a.flagComment},void 0,nt("a",{onClick:function(){return o.flagHandler()},className:tt.a.flagicon},void 0,"FLAG")))))}}])&&rt(t.prototype,o),n&&rt(t,n),i}(r.a.Component)).prototype,"onVoteUp",[Ve],Object.getOwnPropertyDescriptor(We.prototype,"onVoteUp"),We.prototype),pt(We.prototype,"onVoteDown",[Me],Object.getOwnPropertyDescriptor(We.prototype,"onVoteDown"),We.prototype),pt(We.prototype,"openAddCommentBox",[Ue],Object.getOwnPropertyDescriptor(We.prototype,"openAddCommentBox"),We.prototype),pt(We.prototype,"handleCommentClick",[He],Object.getOwnPropertyDescriptor(We.prototype,"handleCommentClick"),We.prototype),We);mt.defaultProps={data:{A_D_N:"",F_NAME:"",C_T:"",AC_A_C:0,AC_D_C:0},isPrime:!1,msid:""};var ht,ft,gt,vt,yt,bt,_t=mt,wt=o(451),Ct=o.n(wt)()({loader:function(){return o.e(115).then(o.bind(null,1533))},loading:function(){return null}}),St=function(e){return r.a.createElement(Ct,e)};function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t,o,n){bt||(bt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),a=0;a<i;a++)s[a]=arguments[a+3];t.children=s}if(t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});return{$$typeof:bt,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function xt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function kt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Nt(e);if(t){var r=Nt(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return It(this,o)}}function It(e,t){return!t||"object"!==Ot(t)&&"function"!=typeof t?jt(e):t}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t,o,n,r){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce((function(o,n){return n(e,t,o)||o}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Rt=Dt("i",{}),At=Dt("i",{}),Bt=Dt("h4",{},void 0,"TOP COMMENTS"),Ft=(ht=Object(De.a)({}),ft=Object(De.a)({}),gt=Object(De.a)({}),vt=Object(De.a)({}),Et((yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(s,e);var t,o,n,i=Pt(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).onFlagClick=function(t){var o,n=(0,e.props.isValidRating)(t.A_ID,y.a.OFFENSIVE,1,t._id);n.isValid?e.setState((xt(o={},"errorMsg-".concat(t._id),""),xt(o,"activeFlag",t._id),o)):e.setState(xt({},"errorMsg-".concat(t._id),n.errorMsg))},e.onVote=function(t,o){if(e.props.isUserLoggedin(e.props.userData)){var n=o?"AGREED":"DISAGREED",r=e.props.isValidRating,i=(o?t.AC_A_C:t.AC_D_C)+1,s=r(t.A_ID,n,i,t._id);s.isValid?(e.setState(xt({},"errorMsg-".concat(t._id),"")),e.props.putVote(t._id,n,i,t.msid)):e.setState(xt({},"errorMsg-".concat(t._id),s.errorMsg))}else e.openLoginBox(!0)},e.openAddCommentBox=function(t){e.setState({openedAddCommentBoxId:t||""})},e.resetCommentBoxId=function(){e.setState({openedAddCommentBoxId:""})},e.showThread=function(t){e.props.isWapView||Object(B.a)("gaAndGrx","send","event","","LB_sticky_comments",""),e.props.openSidebar(e.props.msid),Object(d.D)()||(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"),e.setState({highlightedId:t})},e.hideFlag=function(){e.setState({activeFlag:""})},e.hideChangeViewLoader=function(){e.setState({showChangeViewLoader:!1})},e.showChangeViewLoader=function(){e.setState({showChangeViewLoader:!0})},e.hideLoadMoreCommentsLoader=function(){e.setState({showLoadMoreLoader:!1})},e.getNoCommentText=function(){var t=e.props.commentsData||[],o="";return 0===(t&&t[0]&&t[0].totalcount||0)?o="Be the first one to review.":"discussed"!==e.sortType||t[0].countPresent?"disagree"!==e.sortType||t[0].countPresent||(o="None of the comments have been down voted."):o="None of the comments have been discussed.",o},e.hideFixedHeader=function(){e.setState({showFixedHeader:!1})},e.isElementInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},e.handleScrollStop=function(){var t=document.getElementById("comment-sidebar-input-".concat(e.props.msid));t&&(e.isElementInViewport(t)||e.state.showFixedHeader?e.setState({showFixedHeaderIcon:!1}):e.setState({showFixedHeaderIcon:!0}))},e.getReadCommentsBtn=function(t){var o=t>1?"comments":"comment",n=e.props.readCommentsTxt||"Read ".concat(t," ").concat(o);e.props.showBottomCommentsV2&&(n=e.props.isWapView?"".concat(t>99?"99+":t," ").concat(o):"Read ".concat(o," (").concat(t>99?"99+":t,")"));var r=e.props.styles;return 0!==t?e.props.redirectBtnClick?Dt("a",{className:"".concat(r.cmtbtn," ").concat(r.view),href:"/articleshow_comments/".concat(e.props.msid,".cms")},void 0,n):Dt("span",{className:"".concat(r.cmtbtn," ").concat(r.view," cmtbtn view"),"data-ga":"comment-view-below_as|msid_".concat(e.props.msid),onClick:function(t){return e.onSidebarOpenClose(t,!0)}},void 0,n):null},e.postCommentHandler=function(t){e.onSidebarOpenClose(t,!0),setTimeout((function(){e.props.commentTextInputRef.current.focus()}),0)},e.getPostCommentBtn=function(){var t=e.props.styles,o=e.props.postCommentText||"Post a comment";return"4.0"===e.props.commentModeration?null:e.props.redirectBtnClick?Dt("a",{className:"".concat(t.cmtbtn," ").concat(t.add),href:"/articleshow_comments/".concat(e.props.msid,".cms")},void 0,Dt("span",{className:"icon"},void 0,o)):Dt("span",{className:"".concat(t.cmtbtn," ").concat(t.add," cmtbtn add"),"data-ga":"comment-add-below_as|msid_".concat(e.props.msid),onClick:function(t){return e.postCommentHandler(t)}},void 0,Dt("span",{className:"icon"},void 0,o))},e.state={openedAddCommentBoxId:"",showLoadMoreLoader:!1,showChangeViewLoader:!1,showFixedHeader:!1,showFixedHeaderIcon:!1,highlightedId:""},e.renderCommentList=e.renderCommentList.bind(jt(e)),e.onSidebarOpenClose=e.onSidebarOpenClose.bind(jt(e)),e.renderLogin=e.renderLogin.bind(jt(e)),e.openLoginBox=e.openLoginBox.bind(jt(e)),e.renderUserIcon=e.renderUserIcon.bind(jt(e)),e.loadMoreComments=e.loadMoreComments.bind(jt(e)),e.handleFixedHeader=e.handleFixedHeader.bind(jt(e)),e.onSortClick=e.onSortClick.bind(jt(e)),e}return t=s,n=[{key:"getSidebarStyles",value:function(){return{sidebar:{zIndex:2,position:"absolute",top:0,bottom:0,transition:"transform 0.3s ease-out",WebkitTransition:"-webkit-transform 0.3s ease-out",willChange:"transform",overflow:"hidden",paddingRight:"0"},root:{position:"absolute",top:0,right:0,bottom:0,overflow:"hidden",transition:"transform 0.3s ease-out",WebkitTransition:"-webkit-transform 0.3s ease-out",willChange:"transform",left:"100%"}}}}],(o=[{key:"componentDidUpdate",value:function(e){this.props.commentIdHighlighted!==e.commentIdHighlighted&&this.setState({highlightedId:this.props.commentIdHighlighted})}},{key:"renderUserIcon",value:function(e,t){var o=this.props.styles,n={backgroundImage:"url(".concat(e||"https://mytimes.indiatimes.com/image/thumb/0/default",")")};return Dt("span",{className:o.user_thumbnail,style:n,"data-ga":t})}},{key:"getCommentItem",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=!o||"object"===Ot(o)&&0===Object.keys(o).length;return Dt($e,{parent:o,userData:this.props.userData,isUserLoggedin:this.props.isUserLoggedin,openLoginBox:this.openLoginBox,pageMsid:this.props.msid,renderCommentList:this.renderCommentList,handleAddComment:this.props.handleAddComment,putVote:this.onVote,onFlagComment:this.props.onFlagComment,renderUserIcon:this.renderUserIcon,isValidRating:this.props.isValidRating,data:e,parentUserName:e.O_D_N||e.F_NAME,isParent:r,disclaimer:this.props.disclaimer,styles:this.props.styles,isPrime:this.props.isPrime,isWapView:this.props.isWapView,openCommentBox:this.state.openedAddCommentBoxId===e._id,resetCommentBoxId:this.resetCommentBoxId,errorMsg:this.state["errorMsg-".concat(e._id)]||"",onFlagClick:this.onFlagClick,shouldShowFlagForm:this.state.activeFlag===e._id,hideFlag:this.hideFlag,commentTextInputRef:this.props.commentTextInputRef,showVerificationMsg:this.props.showVerificationMsg,seoData:this.props.seoData,isHighlighted:this.state.highlightedId===e._id,level:n,followUser:this.props.followUser,isPrivateUser:this.props.isPrivateUser,isFollowee:this.props.followees&&-1!==this.props.followees.indexOf(e.user_detail&&e.user_detail._id?e.user_detail._id:"")},e._id)}},{key:"getBottomCommentItem",value:function(e){return Dt(_t,{userData:this.props.userData,isUserLoggedin:this.props.isUserLoggedin,openLoginBox:this.openLoginBox,pageMsid:this.props.msid,id:e._id,renderCommentList:this.renderCommentList,renderUserIcon:this.renderUserIcon,data:e,onClick:this.showThread,isPrime:this.props.isPrime,openAddCommentBox:this.openAddCommentBox,putVote:this.onVote,flagHandler:this.onFlagClick,msid:this.props.msid,isPrivateUser:this.props.isPrivateUser},e._id)}},{key:"renderBottomComments",value:function(e){var t=this;return r.a.createElement(r.a.Fragment,null,e&&"function"==typeof e.filter&&e.filter((function(e){return e._id})).slice(0,3).map((function(e,o){return t.getBottomCommentItem(e,o)})))}},{key:"getBottomCommentItemV2",value:function(e){return Dt(St,{userData:this.props.userData,isUserLoggedin:this.props.isUserLoggedin,openLoginBox:this.openLoginBox,pageMsid:this.props.msid,id:e._id,renderCommentList:this.renderCommentList,renderUserIcon:this.renderUserIcon,data:e,onClick:this.showThread,isPrime:this.props.isPrime,openAddCommentBox:this.openAddCommentBox,putVote:this.onVote,flagHandler:this.onFlagClick,msid:this.props.msid,isPrivateUser:this.props.isPrivateUser},e._id)}},{key:"renderBottomCommentsV2",value:function(e){var t=this;return r.a.createElement(r.a.Fragment,null,e&&"function"==typeof e.filter&&e.filter((function(e){return e._id})).slice(0,4).map((function(e,o){return t.getBottomCommentItemV2(e,o)})))}},{key:"renderCommentList",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.props.styles;return Dt("ul",{className:r.comments_lists},void 0,e&&"function"==typeof e.filter&&e.filter((function(e){return e._id})).map((function(e,r){return t.getCommentItem(e,r,o,n)})))}},{key:"onSortClick",value:function(e){this.showChangeViewLoader();var t=e.target.value;this.props.onSortClick(t,this.hideChangeViewLoader),this.sortType=t}},{key:"renderSortOptions",value:function(e){return Dt("select",{id:"sort","data-ga":"comment-sort-comment_section|msid_".concat(this.props.msid),onChange:this.onSortClick},void 0,e.map((function(e){return Dt("option",{"data-type":e.label},e.label,e.label)})))}},{key:"renderError",value:function(){this.props.config.messages.login_required}},{key:"openLoginBox",value:function(){this.props.isUserLoggedin(this.props.userData)||this.props.toggleLoginBox(!0)}},{key:"renderLogin",value:function(){return Dt("div",{},void 0,!this.props.isUserLoggedin(this.props.userData)&&Dt("h3",{onClick:this.openLoginBox},void 0,"Login to add a comment"))}},{key:"getScrollHeight",value:function(){var e=document.documentElement.clientHeight;return this.props.isPrime?e:e-51}},{key:"loadMoreComments",value:function(){this.setState({showLoadMoreLoader:!0}),this.props.loadMoreComments(this.hideLoadMoreCommentsLoader)}},{key:"getSideBarHtml",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,a=this.getNoCommentText(s);return Dt("div",{className:e.comment_scroll},void 0,Dt("div",{className:e.comment_topwrite},void 0,"4.0"!==this.props.commentModeration&&Dt(ce,{shouldAlwaysShow:!0,userData:this.props.userData,openLoginBox:this.openLoginBox,isUserLoggedin:this.props.isUserLoggedin,handleAddComment:this.props.handleAddComment,pageMsid:this.props.msid,getMsid:void 0,getImmediateParent:void 0,getParentComment:void 0,renderUserIcon:this.renderUserIcon,disclaimer:this.props.disclaimer,styles:e,prime:this.props.isPrime,isWapView:this.props.isWapView,mainCommentBox:!0,showFixedHeader:this.state.showFixedHeader,hideFixedHeader:this.hideFixedHeader,commentTextInputRef:this.props.commentTextInputRef,showVerificationMsg:this.props.showVerificationMsg,seoData:this.props.seoData,isPrivateUser:this.props.isPrivateUser}),!this.props.isWapView&&!this.props.isPrime&&a&&Dt("div",{className:e.noComment},void 0,a),this.props.isPrime&&s>0&&Dt("span",{className:e.sortby},void 0,this.renderSortOptions(this.props.getSortTypeData())),this.state.showChangeViewLoader?Dt("div",{className:e.loader},void 0,Rt):r.a.createElement(r.a.Fragment,null,this.renderCommentList(o,n)),i&&r.a.createElement(r.a.Fragment,null,this.state.showLoadMoreLoader&&Dt("div",{className:e.loader},void 0,At),!this.state.showLoadMoreLoader&&!this.state.showChangeViewLoader&&Dt("div",{className:e.loadmore,"data-ga":"comment-view_more-comment_section|msid_".concat(this.props.msid),onClick:function(e){return t.loadMoreComments(e)}},void 0,"View more comments"))))}},{key:"handleFixedHeader",value:function(){this.setState({showFixedHeader:!0,showFixedHeaderIcon:!1})}},{key:"renderSidebar",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t[0]&&t[0].totalcount||0;i>0&&t[0].topComment&&t[0].topComment.length>0&&(i-=t[0].topComment.length);var s=this.props.styles,a=!this.props.hideBottomComments&&(this.props.isWapView||Object(d.D)());return r.a.createElement(r.a.Fragment,null,Dt("div",{className:"".concat(s.comment_header," ").concat(this.props.isTablet?s.ipad:"")},void 0,this.props.isPrime?"":"All ","Comments ",Dt("span",{className:s.lightText},void 0,"(",i,")"),!this.props.isPrime&&!this.props.isWapView&&this.state.showFixedHeaderIcon&&Dt("span",{"data-ga":"comment-add-comment_section|msid_".concat(this.props.msid),className:s.addcommentheader,onClick:function(t){return e.handleFixedHeader(t)}}),!this.props.isPrime&&i>0&&Dt("span",{className:s.sortby},void 0,Dt("label",{htmlFor:"sort",className:s.sortText},void 0," ","sort"),this.renderSortOptions(this.props.getSortTypeData())),Dt("span",{className:s.close,onClick:function(t){return e.onSidebarOpenClose(t)}},void 0,"+")),a&&Dt("div",{className:s.mobilecomment},void 0,this.getSideBarHtml(s,t,o,n,i)),!a&&Dt(F.Scrollbars,{style:{height:this.getScrollHeight(),width:this.props.isPrime?430:425},universal:!0,onScrollStop:this.handleScrollStop},void 0,this.getSideBarHtml(s,t,o,n,i)))}},{key:"onSidebarOpenClose",value:function(e,t){var o="boolean"==typeof t&&t?t:!(this.props.sidebarOpenMsid===this.props.msid);o?Object(d.D)()&&!this.props.hideBottomComments||(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.overflow="",document.documentElement.style.overflow=""),this.props.openSidebar(o?this.props.msid:""),this.setState({showFixedHeader:!1,highlightedId:""})}},{key:"render",value:function(){var e=this,t=this.props.commentsData||[],o=t.length>0?t.length-1:0,n=t[0]&&t[0].totalcount||0;n>0&&t[0].topComment&&t[0].topComment.length>0&&(n-=t[0].topComment.length);var i=s.getSidebarStyles(),a=this.renderSidebar(t,{},n>o),c=this.props.styles;return Dt("div",{className:"".concat(c.commentsContainer," ").concat(this.props.showBottomCommentsV2?c.CommentLB_Bottom:""),id:"comment-container-".concat(this.props.msid)},void 0,r.a.createElement(r.a.Fragment,null,!this.props.showBottomCommentsV2&&this.props.isTimelineVisible&&Dt("div",{onClick:function(t){return e.showThread(t)}},void 0,Dt(A.a,{stickyClass:c.sticky,outerContainerClass:c.commentsWrapper,offsetFromTop:450},void 0,Dt("div",{className:"".concat(c.comment_title," ").concat(c.commentTicker," appOnlyComment")},void 0,n>0?Dt("span",{className:c.lightText},void 0,n):Dt("span",{className:c.lightText1},void 0,"+")))),this.props.showBottomCommentsV2&&r.a.createElement(r.a.Fragment,null,Dt("div",{className:"".concat(c.comments_box," ").concat(o?c.bottom_inner_v2:c.noComments_v2," ").concat(this.props.isGrid2Col?"":c.col2)},void 0,0!==o?Bt:Dt("div",{className:c.startConversation},void 0,"Start a Conversation"),this.renderBottomCommentsV2(t),Dt("div",{className:"".concat(c.cmtbtnwrapper," ").concat(c.LBv2)},void 0,this.getPostCommentBtn(),this.getReadCommentsBtn(n)))),!this.props.showBottomCommentsV2&&!this.props.isTimelineVisible&&!this.props.hideBottomComments&&r.a.createElement(r.a.Fragment,null,!this.props.isTablet&&Dt("div",{className:c.cmtbtnwrapper},void 0,this.getReadCommentsBtn(n),this.getPostCommentBtn()),!this.props.isWapView&&!this.props.isTablet&&!this.props.hideBottomComments&&Dt("div",{className:c.comments_box},void 0,this.renderBottomComments(t)))),(!this.props.isTablet||this.props.hideBottomComments)&&Dt(R,{pullRight:!0,transitions:!0,rootClassName:"".concat(c.root," ").concat(this.props.msid===this.props.sidebarOpenMsid?c.open:""),sidebarClassName:c.comment_sidebar,styles:i,sidebar:a,onSetOpen:this.onSidebarOpenClose,open:this.props.msid===this.props.sidebarOpenMsid}),!this.props.hideBottomComments&&(this.props.isTablet||this.props.isPrime&&this.props.isWapView)&&Dt("div",{className:c.commentsipad},void 0,a))}}])&&kt(t.prototype,o),n&&kt(t,n),s}(r.a.Component)).prototype,"onSortClick",[ht],Object.getOwnPropertyDescriptor(yt.prototype,"onSortClick"),yt.prototype),Et(yt.prototype,"loadMoreComments",[ft],Object.getOwnPropertyDescriptor(yt.prototype,"loadMoreComments"),yt.prototype),Et(yt.prototype,"handleFixedHeader",[gt],Object.getOwnPropertyDescriptor(yt.prototype,"handleFixedHeader"),yt.prototype),Et(yt.prototype,"onSidebarOpenClose",[vt],Object.getOwnPropertyDescriptor(yt.prototype,"onSidebarOpenClose"),yt.prototype),yt);Ft.defaultProps={userData:void 0,commentsData:void 0,isTimelineVisible:!1,postCommentText:void 0,readCommentsTxt:void 0,redirectBtnClick:!1,sidebarOpenMsid:"",openSidebar:function(){},isTablet:!1,isPrime:!1,isWapView:!1,showVerificationMsg:!1,seoData:{},commentIdHighlighted:-1,hideBottomComments:!1,followees:[],isPrivateUser:!0,commentModeration:"",showBottomCommentsV2:!1,isGrid2Col:!1};var Lt=Ft;function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Ut(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=zt(e);if(t){var r=zt(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Xt(this,o)}}function Xt(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(s,e);var t,o,n,i=Wt(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).state={},e}return t=s,(o=[{key:"render",value:function(){return r.a.createElement(Lt,Mt({},this.props,{styles:_.a}))}}])&&Ut(t.prototype,o),n&&Ut(t,n),s}(r.a.Component),qt=o(1485),Kt=o.n(qt);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Jt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=to(e);if(t){var r=to(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return eo(this,o)}}function eo(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(s,e);var t,o,n,i=$t(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).state={},e}return t=s,(o=[{key:"render",value:function(){return r.a.createElement(Lt,Yt({},this.props,{styles:Kt.a,isPrime:!0}))}}])&&Jt(t.prototype,o),n&&Jt(t,n),s}(r.a.Component);function no(e){var t=!1;return e&&e.isLoggedIn&&e.getUid()&&(t=!0),t}var ro,io=o(64);function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t,o,n){ro||(ro="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),a=0;a<i;a++)s[a]=arguments[a+3];t.children=s}if(t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});return{$$typeof:ro,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function co(e){return function(e){if(Array.isArray(e))return lo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lo(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function po(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function uo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?po(Object(o),!0).forEach((function(t){mo(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):po(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function mo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ho(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=bo(e);if(t){var r=bo(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return vo(this,o)}}function vo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?yo(e):t}function yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(i,e);var t,o,n,r=go(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this)).loadMoreComments=function(t){var o=e.pageNum+1,n={msid:e.props.msid,pagenum:o},r=e.getSortConfig(e.sortConfig);e.pageNum=o,r&&(n=uo(uo({},r),n),e.props.getMoreComments(n,t))},e.putVote=function(t,o,n,r){var s=i.getVoteTypeId(o),a="https://myt.indiatimes.com/mytimes/addActivity",c={appKey:"TOI",parentCommentId:t,activityType:s.type,baseEntityType:"ARTICLE",objectType:"A",url:window.location.href};a+="?".concat(Object(ke.a)(c));l()(a,null,(function(){Object(ke.c)(t,s.id,0,n),e.props.updateVoteCount({msid:r,commentId:t,voteType:o,voteCount:n})})),e.rateComment(t,s.id)},e.getComments=function(){return e.props.comments&&e.props.comments.commentsData?e.props.comments["commentsData-".concat(e.props.msid)]:[]},e.handleAddComment=function(t,o){var n=e.props.userData,r=n&&"function"==typeof n.getUid&&n.getUid(),i=uo(uo({},o?{fromname:o.name,fromaddress:o.email,userid:"",location:o.loc,imageurl:""}:{fromname:n.getFullName(),fromaddress:n.getEmail(),userid:n.getUid(),location:n.getCITY(),imageurl:n.getIcon()}),{},{loggedstatus:r?1:0,roaltdetails:1,configid:41083278,urs:"",rotype:0}),s={url:xe.B+window.location.pathname},a=uo(uo(uo({},i),t),s);r||(a.verifyuser=1),e.validateComment(a,(function(){y.b.sendCommentLiveEmail,a.pcode="TOI",e.props.postComment(a,e.handlePostCommentResponse.bind(yo(e)))}))},e.getSortConfig=function(t){var o=Object(y.f)().filter((function(e){return e.label===t}));if(e.sortConfig=t,e.pageNum=1,o.length)return o[0].queryParams},e.onSortClick=function(t,o){var n=e.getSortConfig(t);n&&e.handleSort(n,o)},e.followUser=function(t){e.props.followUser(t)},e.openSidebar=function(t){e.props.openSidebar(t),e.props.toggleNIC(!1)},e.onFlagComment=function(t,o){e.props.onFlagComment(t,o),e.rateComment(t.ofcommenteroid,103)},e.rateComment=function(e,t){io.a.get("/ratecomment_new.cms?opinionid=".concat(e,"&typeid=").concat(t,"&rateid=0"),{},"skipfeedengine")},e.state={showVerificationMsg:!1},e.handleSort.bind(yo(e)),e.pageNum=1,e.sortConfig="upvoted",e.isUserLoggedin=!1,e}return t=i,n=[{key:"getVoteTypeId",value:function(e){var t={};return"AGREED"===e||100===parseInt(e,10)?t={type:"Agreed",id:"100"}:"DISAGREED"===e||101===parseInt(e,10)?t={type:"Disagreed",id:"101"}:103!==parseInt(e,10)&&"OFFENSIVE"!==e||(t={type:"OFFENSIVE",id:"103"}),t}}],(o=[{key:"componentDidMount",value:function(){this.loadComments(),!1===this.props.hasFolloweesData&&this.loadFollowees()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.msid!==e.msid&&(this.sortConfig="upvoted",this.loadComments()),setTimeout((function(){!1===t.props.hasFolloweesData&&t.loadFollowees()}),0)}},{key:"loadFollowees",value:function(){var e=no(this.props.userData);e!==this.isUserLoggedin&&(this.props.loadFollowees(),this.isUserLoggedin=e)}},{key:"loadComments",value:function(){var e={msid:this.props.msid,pagenum:this.pageNum},t=this.getSortConfig(this.sortConfig);t&&(e=uo(uo({},t),e),this.props.getCommentsData(e))}},{key:"isValidRating",value:function(e,t,o,n){var r,s=this.props.userData,a=void 0===s?{}:s,c=y.b.messages,l=no(a),p=!0,u=i.getVoteTypeId(t),d=t.toUpperCase(),m=Object(ke.b)(n,u.id,0)||{},h=i.getVoteTypeId(m.typeid||m.offensiveId).type||"";h=h.toUpperCase();var f=m.offensiveId||"",g=i.getVoteTypeId(f).type||"";if(g=g.toUpperCase(),l&&e===a.getId())switch(p=!1,d){case y.a.AGREED:r=c.self_agree;break;case y.a.DISAGREED:r=c.self_disagree;break;case y.a.OFFENSIVE:r=c.self_offensive}else if(m.count&&m.count>0&&(d===h||d===g))switch(p=!1,d){case y.a.AGREED:r=c.already_agree;break;case y.a.DISAGREED:r=c.already_disagree;break;case y.a.OFFENSIVE:r=c.already_offensive}else m.count&&m.count>0&&(h===y.a.AGREED&&d===y.a.DISAGREED||h===y.a.DISAGREED&&d===y.a.AGREED?(p=!1,r=c.cant_agree_disagree):(h===y.a.AGREED&&d===y.a.OFFENSIVE||g===y.a.OFFENSIVE&&d===y.a.AGREED)&&(p=!1,r=c.cant_agree_offensive));return{isValid:p,errorMsg:r}}},{key:"createCommentObjectFromData",value:function(e){var t=this.props.userData,o=void 0===t?{}:t,n={_id:Date.now(),F_NAME:e.fromname,CITY:e.location,C_D:Date.now(),addedNow:1,C_T:e.message,AC_A_C:0,AC_D_C:0};return o.isLoggedIn&&o.getId()&&(n.A_ID=o.getId(),n.user_detail=n.user_detail||{},n.user_detail.thumb=o.getThumb()||"",n.user_detail.U_P_S=Object(d.B)()),n}},{key:"findParentCommentInData",value:function(e,t){for(var o,n=0;n<e.length;n+=1)if(e[n]._id){if(e[n]._id===t){o=e[n];break}if(e[n].CHILD&&e[n].CHILD.length&&(o=this.findParentCommentInData(e[n].CHILD,t)))break}return o}},{key:"handlePostCommentResponse",value:function(e,t){e.data&&e.data.toLowerCase();var o=this.props.userData;o&&"function"==typeof o.getUid&&o.getUid()?(this.addCommentToState(t),this.setState({showVerificationMsg:!1})):this.setState({showVerificationMsg:!0})}},{key:"addCommentToState",value:function(e){var t,o=this.createCommentObjectFromData(e),n=Object.assign([],this.getComments()),r=e.parentid;0===parseInt(r,10)?(Object(d.v)(n,1,o),n[0].totalcount+=1):((t=this.findParentCommentInData(n,r)).CHILD||(t.CHILD=[]),Object(d.v)(t.CHILD,1,o)),this.props.updateComments({msid:this.props.msid,comments:co(n)})}},{key:"validateComment",value:function(e,t){var o=this,n=Object(d.s)()+Object(y.d)().endpoint,r=uo(uo({},Object(y.d)().params),e);a.a.post(n,r).then((function(e){"duplicatecontent"===e.data||"abusivecontent"===e.data||t.call(o,null)})).catch()}},{key:"handleSort",value:function(e,t){var o=uo(uo({},e),{msid:this.props.msid,pagenum:this.pageNum});this.props.getCommentsData(o,t)}},{key:"render",value:function(){var e=this,t=this.props.isPrime?oo:Gt,o=Object(d.D)();return"3.0"===this.props.commentModeration?null:ao(t,{msid:this.props.msid,commentsData:this.getComments(),handleAddComment:this.handleAddComment,disclaimer:v,getSortTypeData:y.f,userData:this.props.userData,toggleLoginBox:function(t){return e.props.toggleLoginBox(t)},onSortClick:this.onSortClick,onFlagComment:this.onFlagComment,putVote:this.putVote,isValidRating:function(t,o,n,r){return e.isValidRating(t,o,n,r)},config:y.b,isUserLoggedin:no,isTimelineVisible:this.props.isTimelineVisible,postCommentText:this.props.postCommentText,readCommentsTxt:this.props.readCommentsTxt,redirectBtnClick:this.props.redirectBtnClick,isWapView:this.props.isWapView,openSidebar:this.openSidebar,sidebarOpenMsid:this.props.sidebarOpenMsid,loadMoreComments:this.loadMoreComments,isPrime:this.props.isPrime,isTablet:o,commentTextInputRef:this.props.commentTextInputRef,showVerificationMsg:this.state.showVerificationMsg,seoData:this.props.seoData,commentIdHighlighted:this.props.commentIdHighlighted,hideBottomComments:this.props.hideBottomComments,followUser:this.followUser,followees:this.props.followees,isPrivateUser:this.props.isPrivateUser,commentModeration:this.props.commentModeration,showBottomCommentsV2:this.props.showBottomCommentsV2,isGrid2Col:this.props.isGrid2Col})}}])&&ho(t.prototype,o),n&&ho(t,n),i}(r.a.Component);_o.defaultProps={userData:void 0,comments:void 0,isTimelineVisible:!1,postCommentText:void 0,readCommentsTxt:void 0,sidebarOpenMsid:"",redirectBtnClick:!1,isWapView:!1,isPrime:!1,commentTextInputRef:r.a.createRef(),toggleNIC:function(){},seoData:{},commentIdHighlighted:-1,hideBottomComments:!1,followees:[],isPrivateUser:!0,hasFolloweesData:!1,commentModeration:"",showBottomCommentsV2:!1,isGrid2Col:!1};t.default=Object(i.b)((function(e){return{comments:e.comments,userData:u()(e,"login.userData",{}),sidebarOpenMsid:e.commentscommon.sidebarOpen,commentIdHighlighted:e.commentscommon.commentIdHighlighted,followees:e.comments.followees,isPrivateUser:e.gdpr.isPrivateUser,hasFolloweesData:e.comments.hasFolloweesData}}),(function(e){return{getCommentsData:function(t,o){e(Object(f.b)(t,o))},getMoreComments:function(t,o){e(Object(f.c)(t,o))},postComment:function(t,o){e(Object(f.f)(t,o))},toggleLoginBox:function(t){e(Object(g.a)(t))},onFlagComment:function(t,o){e(Object(f.e)(t,o))},openSidebar:function(t){e(Object(m.a)(t))},updateVoteCount:function(t){e(Object(f.h)(t))},updateComments:function(t){e(Object(f.g)(t))},toggleNIC:function(t){e(Object(h.p)(t))},followUser:function(t){e(Object(f.a)(t))},loadFollowees:function(){e(Object(f.d)())}}}))(_o)},681:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o(28);function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){s(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a,c=(a="OPEN_SIDEBAR","toi/".concat("commentscommon","/").concat(a));function l(e,t){return{type:c,payload:{msid:e||"",commentId:t||""}}}n.a.register("commentscommon",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return i(i({},e),{},{sidebarOpen:t.payload.msid||"",commentIdHighlighted:t.payload.commentId||""});default:return e}}))}}]);
//# sourceMappingURL=withcomments.cbebfec0.chunk.js.map