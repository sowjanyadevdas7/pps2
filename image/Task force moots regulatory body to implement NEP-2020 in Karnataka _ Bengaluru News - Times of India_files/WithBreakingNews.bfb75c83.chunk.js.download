(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{684:function(t,e,n){"use strict";n.r(e);var r=n(12),o=n.n(r),i=(n(10),n(130)),a=n(453),c=n(28),s=n(64);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){return"toi/".concat("breakingNews","/").concat(t)},d=p("RECEIVE_DATA"),m=p("HANDLE_DATA_ERROR");function y(t){return function(e){return function(t){var e=t.isTest?"https://toidev.indiatimes.com/feed_breakingnews/feedtype-json.cms":"https://toibnews.timesofindia.indiatimes.com/Election/election2017_breakingnews.htm";return s.a.get(e)}(t).then((function(t){return e(function(t){return{type:d,payload:t}}(t.data))})).catch((function(t){return e(function(t){return{type:m,error:t}}(t))}))}}c.a.register("breakingNews",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return l(l({},t),{},{data:e.payload});default:return t}}));var h,b=n(449),v=n.n(b),g=n(447),w=n(938),_=n.n(w),k=n(132);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t,e,n,r){h||(h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&o)for(var s in o)void 0===e[s]&&(e[s]=o[s]);else e||(e=o||{});return{$$typeof:h,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=D(t);if(e){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=C("button",{href:""}),R=C("button",{}),E=C("span",{},void 0,"Breaking ",C("span",{},void 0," News")),W=C("i",{}),x=C("div",{}),B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(c,t);var e,n,r,i=A(c);function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).isIE=function(){return!!(document.documentMode||/Edge/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident")>-1)},e.nextBreakingNews=function(t){e.state.CurrentStory+1<=e.state.NumberOfStories-1&&(t.preventDefault(),e.setState({CurrentStory:e.state.CurrentStory+1},(function(){e.callAnimation()})))},e.prevBreakingNews=function(t){e.state.CurrentStory>0&&(t.preventDefault(),e.setState({CurrentStory:e.state.CurrentStory-1},(function(){e.callAnimation()})))},e.pauseBreakingNews=function(t){"enable"===e.state.tickerControlStatus&&(t.preventDefault(),e.timeout_news&&clearTimeout(e.timeout_news),e.timeout_addAnimation&&clearTimeout(e.timeout_addAnimation),e.setState({animation:"paused"}))},e.callAnimation=function(){"enable"===e.state.tickerControlStatus&&e.startAnimation()},e.playBreakingNews=function(t){t.preventDefault(),e.setState({animation:"playing"},(function(){e.callAnimation()}))},e.IncreasewidthAnimation=function(t,n){var r=t+6;e.tickerConatinerRef&&e.tickerConatinerRef.current&&(e.tickerConatinerRef.current.style.width="".concat(r,"px")),e.timeout_length=setTimeout((function(){e.IncreasewidthAnimation(r,n)}),n)},e.clearAllAnimations=function(){e.setState({ticker_anim:"no_anim"}),e.timeout_addAnimation&&clearTimeout(e.timeout_addAnimation),e.timeout_length&&clearTimeout(e.timeout_length),e.timeout_length_call&&clearTimeout(e.timeout_length_call),e.timeout_news&&clearTimeout(e.timeout_news)},e.hideBreakingNews=function(){e.setState({hide:!0})},e.closeWidget=function(t){e.props.closeWidget(t),Object(a.a)({data:{gaCategory:"ATF_breaking_news_bar",gaAction:"click",gaLabel:"close_icon"}})};var n=Object(k.a)()?"mobile":"desktop",r=t.data.length>1?"enable":"disable";return e.tickerConatinerRef=o.a.createRef(),e.state={ticker_class:"ticker__item",ticker_anim:"no_anim",story:t.data[0].title||"",storyLink:t.data[0].link||"",CurrentStory:0,tickerControlStatus:r,NumberOfStories:t.data.length||0,StoriesArray:t.data||[],device:n,animation:"playing",hide:!1},e}return e=c,(n=[{key:"componentDidMount",value:function(){this.startAnimation()}},{key:"startAnimation",value:function(){var t=this;this.clearAllAnimations();var e,n=this.state,r=n.StoriesArray,o=n.NumberOfStories,i=n.device,a=n.animation,c=this.state.CurrentStory;(c<0||c>=o)&&(this.setState({CurrentStory:0}),c=0),this.setState({story:r[c].title,storyLink:r[c].link});var s=(this.isIE(),40);e=50*r[c].title.length+4e3,"desktop"===i&&(this.timeout_length_call=setTimeout((function(){t.IncreasewidthAnimation(0,s)}),0),e>=5e3&&(this.timeout_addAnimation=setTimeout((function(){t.setState({ticker_anim:"add_anim_ticker"})}),4e3))),"playing"===a&&this.loadNextStry(c,e)}},{key:"loadNextStry",value:function(t,e){var n=this;this.timeout_news=setTimeout((function(){n.setState({CurrentStory:t+1},(function(){n.startAnimation()}))}),e)}},{key:"render",value:function(){var t=this,e=this.props,n=e.data,r=e.addWrapper;if(n){var i,a,c,s="".concat(_.a[this.state.ticker_class]," ").concat(_.a[this.state.ticker_anim]),u="".concat(_.a[this.state.tickerControlStatus]),l=0===this.state.CurrentStory?"disable":"enable",f=this.state.CurrentStory===this.state.NumberOfStories-1?"disable":"enable";c=this.state.storyLink?C(g.a,{to:this.state.storyLink,"data-ga":"ATF_breaking_news_bar|title_click|".concat(this.state.storyLink)},void 0,this.state.story):"".concat(this.state.story),a="playing"===this.state.animation?C("li",{className:"".concat(_.a["jnt-play-pause"]),onClick:this.pauseBreakingNews},void 0,T):C("li",{className:"".concat(_.a["jnt-play-pause"]," ").concat(_.a.paused),onClick:this.playBreakingNews},void 0,R);var p=v()((O(i={},"".concat(_.a["breaking-news"]),!0),O(i,"contentwrapper",!r),O(i,"".concat(_.a.wrapper),r),O(i,"".concat(_.a[this.state.device]),!0),O(i,"".concat(_.a.hide),this.state.hide),O(i,"".concat(_.a.red_theme),"redTheme"===this.props.theme),i)),d=C(o.a.Fragment,{},void 0,C("div",{className:_.a["ticker-title"]},void 0,E),Object(k.a)()&&C("div",{className:"".concat(_.a.newsskip),onClick:function(){return t.hideBreakingNews()}},void 0,W),C("div",{className:_.a["ticker-wrap"]},void 0,C("div",{className:"".concat(_.a.ticker)},void 0,o.a.createElement("div",{className:"".concat(s),ref:this.tickerConatinerRef},c))),C("ul",{className:"".concat(_.a["ticker-controls"],"  ").concat(u)},void 0,C("li",{className:"".concat(_.a["jnt-prev"],"  ").concat(_.a["".concat(l)])},void 0,C("button",{onClick:this.prevBreakingNews})),a,C("li",{className:"".concat(_.a["jnt-next"]," ").concat(_.a["".concat(f)])},void 0,C("button",{onClick:this.nextBreakingNews}))),this.props.withClose&&this.props.closeWidget&&C("button",{className:_.a.closeicon,onClick:function(e){return t.closeWidget(e)}},void 0,"+"));return C("div",{className:p},void 0,r?C("div",{className:"contentwrapper"},void 0,d):C(o.a.Fragment,{},void 0,d))}return x}}])&&j(e.prototype,n),r&&j(e,r),c}(o.a.Component);B.defaultProps={data:void 0,theme:void 0,addWrapper:!1,withClose:!1,closeWidget:void 0};var I,L=B;function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e,n,r){I||(I="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=r;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&o)for(var s in o)void 0===e[s]&&(e[s]=o[s]);else e||(e=o||{});return{$$typeof:I,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=q(t);if(e){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(i,t);var e,n,r,o=z(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).LoadBreakingNewsData=function(e){t.props.loadData(e)},t.closeWidget=function(){window.sessionStorage&&sessionStorage.setItem("brknewsClose","1"),t.setState({hideWidget:!0}),Object(a.a)({data:{gaCategory:"ATF_breaking_news_bar",gaAction:"close_icon",gaLabel:""}})},t.state={hideWidget:!1},t}return e=i,(n=[{key:"componentDidMount",value:function(){var t={isTest:"undefined"!=typeof window&&window.location.search.includes("brknewstest")};(!window.sessionStorage||"1"!==sessionStorage.getItem("brknewsClose"))&&this.LoadBreakingNewsData(t)}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.customComponent;return e&&!this.state.hideWidget?n?M(n,{data:this.props.data,closeWidget:this.closeWidget}):M(L,{data:this.props.data,theme:this.props.theme,addWrapper:this.props.addWrapper,withClose:this.props.withClose,closeWidget:this.closeWidget}):null}}])&&H(e.prototype,n),r&&H(e,r),i}(o.a.Component);G.defaultProps={data:void 0,loadData:void 0,theme:void 0,customComponent:void 0,addWrapper:!1,withClose:!1};e.default=Object(i.b)((function(t){return{data:t.breakingNews.data}}),(function(t){return{loadData:function(e){t(y(e))}}}))(G)},938:function(t,e,n){t.exports={"breaking-news":"_1wzk0",red_theme:"_2gaoK","ticker-wrap":"_1DOP6",left:"_2Sm9Q","ticker-controls":"_3CM0-","ticker-content":"_2wuOc","ticker-title":"_2AqoI",ticker:"_2ZS-E",hide:"zMcx6",closeicon:"_2h5r7",ticker__item:"zZ_eI",enable:"_16Fqs","jnt-next":"_3nGHu","jnt-prev":"HQTwU","jnt-play-pause":"_17pnI",paused:"DtSwu",desktop:"USPNH",add_anim_ticker:"_2nr7b",right:"_3Uwau",crossskip:"_2j_1D",newsskip:"_3WN5L",disable:"_251GO"}}}]);
//# sourceMappingURL=WithBreakingNews.bfb75c83.chunk.js.map