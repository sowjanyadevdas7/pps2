(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{1119:function(e,t,n){"use strict";var r=new Promise((function(e){function t(){var n,r;e(!0),n="scroll",r=t,document.removeEventListener?document.removeEventListener(n,r):document.removeEvent&&document.removeEvent(n,r)}function n(){var n,r;-1!==document.addEventListener.toString().indexOf("[native code]")?window.canRun?e(!1):(n="scroll",r=t,document.addEventListener?document.addEventListener(n,r,!1):document.attachEvent&&document.attachEvent(n,r)):t()}if(!(""!==document.referrer&&document.referrer.indexOf("facebook.com")>-1||window.location.href&&window.location.href.indexOf("utm_source=facebook")>-1)){var r=new Image;r.onerror=function(){window.canRun=!1,n()},r.onload=function(){window.canRun=!0,n()},r.src="//static.toiimg.com/ad-banner-zedo/photo/27589586.cms"}}));t.a=r},1475:function(e,t,n){e.exports={slider3d__inner:"_1HgNO",slider3d__rotater:"_3EVFT",mobile:"uidVz",toi_cube:"_3LiNY",container:"_2nlpW",openinapp:"lO-vf",innerContainer:"_3Ul92",cls_btn:"_1xvBd",active:"_4I6-m",closebtn:"tkw6P",slider3d:"f4Ma7","no-select":"_1Y3U2",slider3d__wrapper:"_3aduf",slider3d__item:"_1vidk",slider3d__heading:"_3OVxM","slider-ready":"_11qDS",branding:"_1KGm8",cube_header:"aHh_V",cube_content:"Awz-I",cube_news:"qhYUr",svg:"_2RvzJ",news_item:"_2DhKP",shiftUp:"jyXmC"}},719:function(e,t,n){"use strict";n.r(t);var r,o=n(12),a=n.n(o),i=(n(10),n(130)),c=n(449),s=n.n(c),u=n(455),d=n(64),l=n(447),f=n(452),p=n(1119),m=n(453),v=n(132),b=n(1475),g=n.n(b);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}if(t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=S(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).fetchData=function(e){d.a.get(e,{},"skipfeedengine").catch((function(e){return console.log(e)})).then((function(e){var n=window.geoinfo?window.geoinfo.CountryCode:"";e&&200===e.status&&(e.data.geo&&(e.data.geo.indexOf(n)>-1||e.data.geo.indexOf("ALL")>-1)&&"1"===e.data.enable?(t.data=e.data,t.cards=t.data.cards,t.setState({enable:!0}),setTimeout(t.initSlider(),250)):t.disableCubeFor())}))},t.disableCubeFor=function(){t.setExpiryTime(1/12)},t.renderCube=function(){var e=(new Date).getTime();try{var n=sessionStorage.getItem(t._const.storageName);if(n&&n<e||!n){var r,o=window.categoryForGA;r="/react_cube_config/feedtype-sjson".concat(t.props.isWapView?",ismobile-true":"",".cms?pagename=").concat(o),console.log(r),t.fetchData(r)}}catch(e){console.log(e)}},t.flipCube=function(){t.timer&&clearInterval(t.timer);var e=t.data.wait_duration?t.data.wait_duration:t._const.wait_duration;t.timer=setInterval((function(){t.rotating||t.navigateDown()}),e)},t.clearFlipCube=function(){t.timer&&clearInterval(t.timer)},t.rotateSlider=function(e){t.rotating=!0;var n=t.currentAngle+e*t.angle,r={transform:"rotate".concat(t.axis,"(").concat(n*t.angleMult*-1,"deg)"),transition:"transform ".concat(t.props.speed/1e3,"s ").concat(t.props.easing)};t.setState({rotatersCss:r}),t.currentAngle=n,setTimeout((function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);e.transition="transform 0s",t.setState({rotatersCss:e}),t.rotating=!1}),t.props.speed)},t.navigateUp=function(){t.rotateSlider(-1)},t.navigateDown=function(){t.rotateSlider(1)},t.initSlider=function(){var e=t.cubeRef.current;if(e){t.numOfItems=t.cards.length,t.angle=360/t.numOfItems;var n=t.props.xRotation?e.offsetWidth:e.offsetHeight,r=n*t.props.persMult,o=n/2/Math.tan(t.angle/2*Math.PI/180),a={"-webkit-perspective":"".concat(r,"px"),perspective:"".concat(r,"px")},i={transform:"translateZ(-".concat(o,"px)")},c=t.cards.map((function(e,n){return{transform:"rotate".concat(t.axis,"(").concat(n*t.angle*t.angleMult,"deg) translateZ(").concat(o,"px)")}}));t.setState({mounted:!0,wrapperCss:a,innerCSS:i,cardsCss:c}),t.flipCube()}},t.setExpiryTime=function(e){var n=t._const.MINS_IN_HR*t._const.SEC_IN_MIN*t._const.MILLISEC_IN_SEC,r=(new Date).getTime()+e*n;try{sessionStorage.setItem(t._const.storageName,r)}catch(e){console.log(e)}},t.clsBtnHandler=function(){var e=t.data.fcap_hours?parseInt(t.data.fcap_hours,10):24;t.setState({mounted:!1}),t.setExpiryTime(e);var n={gaCategory:"cross_cube",gaAction:window.location.href,gaLabel:""};t.fireGA(n)},t.renderAd=function(e){var n=t.props.isWapView?"mobile":"all";return w(u.a,{data:e.adData,deviceType:n,immediateLoad:!0})},t.fireGA=function(e){e&&Object(m.a)({ga:e})},t.renderNews=function(e){return w("div",{className:g.a.cube_news},void 0,w("h4",{},void 0,w("i",{className:g.a.svg})," news"),w("div",{className:g.a.news_item},void 0,w(l.a,{to:e.url,data:e.ga,target:"_blank"},void 0,e.title)))},t.renderContent=function(e){return e&&void 0!==e.isNews?t.renderNews(e):e&&void 0!==e.iframe?t.renderIframe(e):e&&void 0!==e.adData?t.renderAd(e):e&&void 0!==e.branding?t.renderBranding(e):e&&void 0!==e.openinapp?t.renderOpeninapp(e):e&&void 0!==e.title&&void 0!==e.url&&void 0!==e.img?t.renderBanner(e):null},t.renderBranding=function(e){return w("div",{className:g.a.branding},void 0,e.title)},t.renderOpeninapp=function(e){return w("div",{className:g.a.openinapp},void 0," ",w(l.a,{to:e.link,target:"_blank"},void 0,e.title))},t.renderBanner=function(e){return w(l.a,{to:e.url,data:e.ga,target:"_blank"},void 0,w(f.a,{title:e.title,caption:e.title,altTitle:e.title,src:e.img}))},t.renderIframe=function(e){return w("iframe",{frameBorder:"0",width:"100%",height:"100%",title:e.title,src:e.url})},t.getCards=function(e,n){return e.map((function(e,r){return w("div",{className:g.a.slider3d__item,style:n[r]},void 0,w("button",{type:"button",className:g.a.cls_btn,onClick:t.clsBtnHandler}),e.header&&w("div",{className:g.a.cube_header},void 0,t.renderContent(e.header)),e.content&&w("div",{className:g.a.cube_content},void 0,t.renderContent(e.content)),e.footer&&w("div",{className:g.a.cube_footer},void 0,t.renderContent(e.footer)))}))},t.checkIfRenderNotRequired=function(){return!!("boolean"==typeof t.state.mounted&&!1===t.state.mounted||!t.state.enable||window&&window.TimesApps&&window.TimesApps.PopUpManager&&window.TimesApps.PopUpManager.isPopuMangerRunning())},t.cubeRef=a.a.createRef(),t.state={mounted:void 0,rotatersCss:{},wrapperCss:{},innerCSS:{},cardsCss:{},enable:!1},t.numOfItems=void 0,t.angle=void 0,t.currentAngle=0,t.rotating=!1,t._const={HRS_IN_DAY:24,MINS_IN_HR:60,SEC_IN_MIN:60,MILLISEC_IN_SEC:1e3,storageName:"cubeClosed",wait_duration:4e3},t.axis=t.props.xRotation?"Y":"X",t.angleMult=t.props.xRotation?1:-1,t.timer=!1,t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;p.a.then((function(t){t||e.renderCube()}))}},{key:"render",value:function(){var e,t;if(this.checkIfRenderNotRequired())return null;var n=this.props.isWapView,r=this.state,o=r.rotatersCss,i=r.wrapperCss,c=r.innerCSS,u=r.cardsCss,d=s()((h(e={},"".concat(g.a.slider3d),!0),h(e,"".concat(g.a.mobile),n),h(e,"".concat(g.a["slider-ready"]),this.state.mounted),h(e,g.a.shiftUp,!Object(v.a)()&&this.props.popUpVisble),e)),l=s()((h(t={},"".concat(g.a.container),!0),h(t,"".concat(g.a.mobile),n),t));return a.a.createElement(a.a.Fragment,null,w("div",{className:g.a.toi_cube},void 0,w("div",{className:g.a.innerContainer},void 0,a.a.createElement("div",{className:l,ref:this.cubeRef},w("div",{className:d},void 0,w("div",{className:g.a.slider3d__wrapper,style:i},void 0,w("div",{className:g.a.slider3d__inner,style:c},void 0,w("div",{className:g.a.slider3d__rotater,style:o},void 0,this.getCards(this.cards,u)))))))))}}])&&O(t.prototype,n),r&&O(t,r),i}(a.a.Component);E.defaultProps={xRotation:!0,speed:1100,easing:"ease",persMult:1.6,isWapView:!1,popUpVisble:!1},t.default=Object(i.b)((function(e){return{popUpVisble:e.WithPopup&&e.WithPopup.isVisible}}))(E)}}]);
//# sourceMappingURL=185.04103f07.chunk.js.map